.. _cleartool.rst:

================================
IBM Rational ClearCase cleartool
================================

0. Legend
---------

	- [...] :: a file/element/path that is to be provided by user and is required
	

I. Useful commands
-------------------

1. list all the checkout files

	.. code-block:: bash

		lsco
	
2. To modify an element you need to check it out [#f1]_

	.. code-block:: bash

		cleartool co [anelement]
	
3. checkout all files within a directory [#f2]_

	.. code-block:: bash
	
		cd [targetDir]
		cleartool co *
	
4. figure out a certain file version number

	.. code-block:: bash
	
		cleartool ls [myFile]
	
	
.. topic:: Example
		
		| => ct ls db2fedsvrcfg.C
		| db2fedsvrcfg.C@@/main/temp_iidev20_db2_v101fp5_hive_zy/2                 Rule: .../temp_iidev20_db2_v101fp5_hive_zy/LATEST

5. compare a version with its predecessor [#f3]_

	.. code-block:: bash
	
		cleartool diff -pred [path]
	
6. roll back a file checked in to clearcase [#f4]_

	.. code-block:: bash
	
		cd [filedirectory]
		cleartool lsvtree [myFile]
		cleartool co -nc [myFile]
		cp myFile@@/main/xx [myFile]
		cleartool ci -nc [myFile]
		
		with xx being the version number you want to restore

7. check all the files modified in particular branch (i.e temp_iidev20_db2_v101fp3_hzy) [#f5]_
	
	7.1 
		.. code-block:: bash
	
			cleartool find . -type f -branch "brtype(temp_iidev20_db2_v101fp3_hzy)" -print

		.. image:: ./cleartool_static/07.PNG
		
	7.2 
		
		.. code-block:: bash
		
			cleartool find . -type f -ele "brtype(temp_iidev20_db2_v101fp3_hzy)" -nxn -print
			
		.. image:: ./cleartool_static/07_2.PNG

        7.3 

                ::

                        $ cleartool find -avobs -branch "brtype(temp_iidev20_bigsql_main_hzy)" -type fd -exec 'cleartool desc -short $CLEARCASE_XPN/LATEST' 
                        /vbs/engn/sqqg_odbc@@/main/temp_iidev20_bigsql_main_hzy/1
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/db2fedsvrcfg.C@@/main/temp_iidev20_bigsql_main_hzy/5
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/db2odbct.C@@/main/temp_iidev20_bigsql_main_hzy/3
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/db2odbct2.C@@/main/temp_iidev20_bigsql_main_hzy/2
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/db2odbct_analyze.C@@/main/temp_iidev20_bigsql_main_hzy/9
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/db2odbct_connection.C@@/main/temp_iidev20_bigsql_main_hzy/0
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/db2odbct_operation.C@@/main/temp_iidev20_bigsql_main_hzy/0
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/db2odbct_statement.C@@/main/temp_iidev20_bigsql_main_hzy/12
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/db2odbct_string.C@@/main/temp_iidev20_bigsql_main_hzy/1
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/inc/db2odbct.h@@/main/temp_iidev20_bigsql_main_hzy/1
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/inc/db2odbct2.h@@/main/temp_iidev20_bigsql_main_hzy/1
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/inc/db2odbct_analyze.h@@/main/temp_iidev20_bigsql_main_hzy/1
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/inc/db2odbct_common.h@@/main/temp_iidev20_bigsql_main_hzy/10
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/inc/db2odbct_driver.h@@/main/temp_iidev20_bigsql_main_hzy/1
                        /vbs/engn/sqqg_odbc/db2fedsvrcfg/inc/db2odbct_statement.h@@/main/temp_iidev20_bigsql_main_hzy/8
                        /vbs/engn/sqqg_odbc/sqlqg_hive_attributes.C@@/main/temp_iidev20_bigsql_main_hzy/2
                        /vbs/bin/macros/macros_misc.pl@@/main/temp_iidev20_bigsql_main_hzy/1


8. cancel a checkout

        .. code-block:: bash

                cleartool unco [myFile]		

9. add new file to view

        1. cp the file into the view

        2.

           .. code-block:: bash

                cleartool mkelem -nc -ci -mkpath [myFile]   

10. Check in multiple files

::

    ct ci -nc `lsco`
		
II. Reference & footnote
-------------------------


.. [#f1] cleartool checkout `knowledge center <https://www-01.ibm.com/support/knowledgecenter/SSSH27_8.0.1/com.ibm.rational.clearcase.cc_ref.doc/topics/ct_checkout.htm>`_

.. [#f2] `How do I perform a recursive checkout using ClearCase <http://stackoverflow.com/questions/33577/how-do-i-perform-a-recursive-checkout-using-clearcase>`_

.. [#f3] `To compare a version with its predecessor <http://www-01.ibm.com/support/knowledgecenter/SSSH27_7.1.2/com.ibm.rational.clearcase.dev.doc/topics/cc_dev/to_compare_version.htm?lang=en>`_

		`To compare a version with other than its predecessor <http://www-01.ibm.com/support/knowledgecenter/SSSH27_7.1.2/com.ibm.rational.clearcase.dev.doc/topics/cc_dev/t_compare_ver_other_pred.htm?lang=en>`_
		
.. [#f4] `roll back a file checked in to clearcase <http://stackoverflow.com/questions/2147055/how-do-i-roll-back-a-file-checked-in-to-clearcase>`_

.. [#f5] `How to find the files modified under a clearcase branch <http://stackoverflow.com/questions/5800926/how-to-find-the-files-modified-under-a-clearcase-branch>`_
