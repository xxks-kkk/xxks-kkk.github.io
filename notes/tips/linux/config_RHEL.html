<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configure RHEL &mdash; Zeyuan&#39;s IBM Docs</title>
    
    <link rel="stylesheet" href="../../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Zeyuan&#39;s IBM Docs" href="../../../index.html" />
    <link rel="up" title="Linux Related" href="linux.html" />
    <link rel="next" title="Useful Linux Cmds" href="linux_cmd.html" />
    <link rel="prev" title="Linux Related" href="linux.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="linux_cmd.html" title="Useful Linux Cmds"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="linux.html" title="Linux Related"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Zeyuan&#39;s IBM Docs</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../notes.html" >Notes</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="linux.html" accesskey="U">Linux Related</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="admonition note" id="config-rhel">
<p class="first admonition-title">Note</p>
<p><strong>A short note on RHEL installation</strong></p>
<p class="last">Please make sure the RAID is created and detectable when booting BIOS. In system X3655, this is done
through IBM utitlity tool, which is accessed by &#8220;Ctrl&#8221; + &#8220;A&#8221;.</p>
</div>
<div class="section" id="configure-rhel">
<h1>Configure RHEL<a class="headerlink" href="#configure-rhel" title="Permalink to this headline">¶</a></h1>
<div class="section" id="start-an-openssh-server">
<h2>Start an OpenSSH Server<a class="headerlink" href="#start-an-openssh-server" title="Permalink to this headline">¶</a></h2>
<p>Each time you reboot RHEL, you need to start an OpenSSH Server so that the RHEL can be remotely login via ssh and
transfered files using sftp</p>
<div class="highlight-python"><div class="highlight"><pre>service sshd start
</pre></div>
</div>
</div>
<div class="section" id="config-repository">
<h2>Config repository<a class="headerlink" href="#config-repository" title="Permalink to this headline">¶</a></h2>
<p><a class="footnote-reference" href="#f1" id="id1">[1]</a></p>
<p>1.0 About RPMforge repository</p>
<blockquote>
<div>RPMforge repository is a utility that is used to
install third party software packages under Red
Hat Enterprise Linux (RHEL). It provides more
than 5000 software packages in the rpm format for
these Linux distributions.</div></blockquote>
<p>1.1 Add rpmforge repository</p>
<blockquote>
<div><p>1.1.1 check RHEL version</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre>lsb_release -i -r
</pre></div>
</div>
</div></blockquote>
<p>1.1.2 verify whether it is a 32 bit or 64 bit system</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre>uname -a
</pre></div>
</div>
<p>32 bit system show i686 / i386
64 bit system show x86_64</p>
</div></blockquote>
<p>1.1.3 install RPMForge Repository</p>
<blockquote>
<div><p>For RHEL 64 bit</p>
<div class="highlight-bash"><div class="highlight"><pre>wget http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el7.rf.x86_64.rpm
rpm -Uvh rpmforge-release-0.5.3-1.el7.rf.x86_64.rpm
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The RPMForge repository will be installed under <code class="docutils literal"><span class="pre">/etc/yum.repod</span></code> directory
as a file rpmforge.repo</p>
</div>
</div></blockquote>
<p>1.1.4 importing RPMForge Repository Key</p>
<blockquote>
<div><p>Need to download and install DAG&#8217;s GPG key for system.</p>
<div class="highlight-bash"><div class="highlight"><pre>wget http://dag.wieers.com/rpm/packages/RPM-GPG-KEY.dag.txt
rpm --import RPM-GPG-KEY.dag.txt
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The imported GPG key stored under <code class="docutils literal"><span class="pre">/etc/pki/rpm-gpg</span></code> directory as a file
RPM-GPG-KEY-rpmforge-dag</p>
</div>
</div></blockquote>
<p>1.1.5 enable RPMForge Repository key</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre>vi /etc/yum.repos.d/rpmforge.repo
</pre></div>
</div>
<p>Change <code class="docutils literal"><span class="pre">enabled=0</span></code> to <code class="docutils literal"><span class="pre">enabled=1</span></code></p>
</div></blockquote>
<p>1.1.6 verify RPMForge enabled</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre>yum repolist all
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
<p>1.2 Reference</p>
<blockquote>
<div><table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="http://www.tecmint.com/enable-rpmforge-repository/">enable rpmforge repository</a></td></tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="resolve-package-update-conflict">
<h2>Resolve package update conflict<a class="headerlink" href="#resolve-package-update-conflict" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Sometimes when updating software, you will get update package conflict, this usually due to
the same package for different architecture (i.e. x86, i386).</p>
<p>For example,</p>
<div class="highlight-bash"><div class="highlight"><pre>Test Transaction Errors:   file /usr/share/man/man1/telnet.1.gz from install of telnet-1:0.17-48.el6.x86_64 conflicts with file from package telnet-1:0.17-39.el5.i386

 file /etc/xinetd.d/telnet from install of telnet-server-1:0.17-48.el6.x86_64 conflicts with file from package telnet-server-1:0.17-39.el5.i386

file /usr/share/man/man5/issue.net.5.gz from install of telnet-server-1:0.17-48.el6.x86_64 conflicts with file from package telnet-server-1:0.17-39.el5.i386

file /usr/share/man/man8/in.telnetd.8.gz from install of telnet-server-1:0.17-48.el6.x86_64 conflicts with file from package telnet-server-1:0.17-39.el5.i386
</pre></div>
</div>
<p>To fix this, one simply needs to remove one package for one arch.</p>
<p>For exmaple,</p>
<div class="highlight-bash"><div class="highlight"><pre>yum erase telnet.i386
yum erase telnet-server.i386
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="resolve-package-dependency-during-package-update">
<h2>Resolve package dependency during package update<a class="headerlink" href="#resolve-package-dependency-during-package-update" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Please check if dependency packages included in exclude list in yum.conf (i.e. <code class="docutils literal"><span class="pre">exclude=</span></code>)</p>
<div class="highlight-bash"><div class="highlight"><pre>vi /etc/yum.conf
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="config-ip">
<h2>Config IP<a class="headerlink" href="#config-ip" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Applicable to Ring 2nd floor server room. Not sure about the other scenarios.</p>
</div>
<p>Example info:</p>
<div class="highlight-python"><div class="highlight"><pre>IP address: 9.123.110.252
Net mask: 255.255.255.0
Gateway: 9.123.110.1
DNS: 9.0.146.50
</pre></div>
</div>
<ol class="arabic">
<li><p class="first">Start <code class="docutils literal"><span class="pre">nmtui</span></code></p>
</li>
<li><p class="first">&#8220;Edit a connection&#8221; then fill out like following</p>
<div class="highlight-python"><div class="highlight"><pre>      &quot;Profile name&quot; enp22s3
          &quot;Device&quot;       enp22s3 (00:14:5E:5A:E3:C0)

        - ETHERNET                                       &lt;Show&gt;

        - IPv4 CONFIGURATION &lt;Manual&gt;
         &quot;Addresses&quot; 9.123.110.252/24
                     &lt;Add...&gt;
                          &quot;Gateway&quot;  9.123.110.1
                   &quot;DNS servers&quot; 9.0.146.50
                     &lt;Add...&gt;
    &quot;Search domains&quot; &lt;Add...&gt;

           &quot;Routing&quot; (No custom routes) &lt;Edit...&gt;
[ ] Never use this network for default
[X] Require IPv4 addressing for this connection

    - IPv6 CONFIGURATION &lt;Link-Local&gt;                 &lt;Show&gt;

        [X] Automaitcally connect
        [X] Available to all users

                                                                                                &lt;Cancel&gt;&lt;OK&gt;
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">vi</span> <span class="pre">/etc/sysconfig/network-scripts/ifcfg-enp22s3</span></code></p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>DEVICE=enp22s3
BOOTPROTO=static
ONBOOT=yes
PREFIX=24
IPADDR=9.123.110.252
DNS=9.0.146.50
GATEWAY=9.123.110.1
NETMASK=255.255.255.0
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">systemctl</span> <span class="pre">restart</span> <span class="pre">network</span></code></p>
</li>
<li><p class="first">[optional] <code class="docutils literal"><span class="pre">ping</span> <span class="pre">9.123.110.1</span></code> ping gateway to see if above config works.</p>
</li>
<li><p class="first">[optional] <code class="docutils literal"><span class="pre">ping</span> <span class="pre">9.181.24.1</span></code> ping other ip address to see if above config works.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">iptables</span> <span class="pre">-F</span></code>, <code class="docutils literal"><span class="pre">iptables</span> <span class="pre">-Z</span></code>, <code class="docutils literal"><span class="pre">iptables</span> <span class="pre">-X</span></code>  turn off RHEL firewall</p>
</li>
</ol>
</div>
<div class="section" id="using-official-redhat-dvd-as-repository">
<h2>Using official Redhat DVD as repository<a class="headerlink" href="#using-official-redhat-dvd-as-repository" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">More on this please reference the following <a class="reference external" href="http://how-to.linuxcareer.com/creating-a-redhat-package-repository">link</a></p>
</div>
<ol class="arabic simple">
<li>check the mount disc info</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>[root@localhost ~]# mount | grep iso9660
/dev/sr0 on /run/media/iidev20/RHEL-7.1 Workstation.x86_64 type iso9660 (ro,nosuid,nodev,relatime,uid=1000,gid=1000,iocharset=utf8,mode=0400,dmode=0500,uhelper=udisks2)
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>The information interests us the most is <code class="docutils literal"><span class="pre">/run/media/iidev20/RHEL-7.1</span> <span class="pre">Workstation.x86_64</span></code></li>
</ol>
<p>3. Define our new repoistory pointing to the <code class="docutils literal"><span class="pre">/run/media/iidev20/RHEL-7.1</span> <span class="pre">Workstation.x86_64</span></code> by creating a repository
entry in <code class="docutils literal"><span class="pre">/etc/yum.repos.d/</span></code></p>
<div class="highlight-shell"><div class="highlight"><pre>vi /etc/yum.repos.d/rhel_disc.repo
</pre></div>
</div>
<p>Enter the following information</p>
<div class="highlight-python"><div class="highlight"><pre>[rhel_disc]
name=RHEL_7.1_x86_64_Disc
baseurl=&quot;file:///run/media/iidev20/RHEL-7.1 Workstation.x86_64/&quot;
gpgcheck=0
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>verify by <code class="docutils literal"><span class="pre">yum</span> <span class="pre">repolist</span></code></li>
</ol>
</div>
<div class="section" id="setup-local-yum-repo-to-install-software">
<h2>Setup local yum repo to install software<a class="headerlink" href="#setup-local-yum-repo-to-install-software" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Applicable to Ring 2nd floor server room because it has no internet access.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">More on this please reference the following <a class="reference external" href="http://how-to.linuxcareer.com/creating-a-redhat-package-repository">link</a></p>
</div>
<p>1. install <code class="docutils literal"><span class="pre">createrepo</span></code> package. If the following output nothing indicates that the package is currently not
present in the system.</p>
<div class="highlight-shell"><div class="highlight"><pre>yum list installed <span class="p">|</span> grep createrepo
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>[root@localhost ~]# yum list installed | grep createrepo
createrepo.noarch                      0.9.9-23.el7                @anaconda/7.1
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>create local file directory as local file repository. For example, create a new directory called <code class="docutils literal"><span class="pre">/rhel_repo</span></code>:</li>
</ol>
<div class="highlight-shell"><div class="highlight"><pre>mkdir /rhel_repo
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>copy all packages from your mounted RHEL DVD to your new directory:</li>
</ol>
<div class="highlight-shell"><div class="highlight"><pre>cp /run/media/iidev20/RHEL-7.1<span class="se">\ </span>Workstation.x86_64/Packages/* /rhel_repo/
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><code class="docutils literal"><span class="pre">createrepo</span> <span class="pre">/rhel_repo/</span></code></li>
<li><code class="docutils literal"><span class="pre">vi</span> <span class="pre">/etc/yum.repos.d/rhel_repo.repo</span></code></li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">rhel_repo</span><span class="p">]</span>
<span class="n">name</span><span class="o">=</span><span class="n">rphel_repo</span>
<span class="n">baseurl</span><span class="o">=</span><span class="s">&quot;file:///root/rhel_repo/&quot;</span>
<span class="n">gpgcheck</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li>verify by <code class="docutils literal"><span class="pre">yum</span> <span class="pre">repolist</span></code></li>
</ol>
</div>
<div class="section" id="install-vncserver">
<h2>Install vncserver<a class="headerlink" href="#install-vncserver" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">yum</span> <span class="pre">install</span> <span class="pre">vnc-server</span></code></li>
<li>start vncserver by <code class="docutils literal"><span class="pre">vncserver</span></code></li>
<li>make sure all firewall turn off: <code class="docutils literal"><span class="pre">iptables</span> <span class="pre">-X</span></code>, <code class="docutils literal"><span class="pre">iptables</span> <span class="pre">-F</span></code>, <code class="docutils literal"><span class="pre">iptables</span> <span class="pre">-Z</span></code></li>
</ol>
</div>
<div class="section" id="install-vmware-workstation-full-9-0-3-1410761-x86-64-bundle">
<h2>Install VMware-Workstation-Full-9.0.3-1410761.x86_64.bundle<a class="headerlink" href="#install-vmware-workstation-full-9-0-3-1410761-x86-64-bundle" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<div class="last line-block">
<div class="line">Kernel Level: 3.10.0-229.el7.x86_64      (<code class="docutils literal"><span class="pre">uname</span> <span class="pre">-r</span></code>)</div>
<div class="line">OS: Red Hat Enterprise Linux Workstation release 7.1 (Maipo) (<code class="docutils literal"><span class="pre">cat</span> <span class="pre">/etc/redhat-release</span></code>)</div>
<div class="line">VMware: VMware-Workstation-Full-9.0.3</div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<div class="line-block">
<div class="line">The following has high chance to work on 3.X kernels. You may need to consult with following websites besides</div>
<div class="line">google:</div>
</div>
<div class="last line-block">
<div class="line">1. &lt;VMware configure tool post installation&gt; <a class="reference external" href="https://github.com/rasa/vmware-tools-patches">https://github.com/rasa/vmware-tools-patches</a></div>
<div class="line">2. &lt;VMware other patches&gt; <a class="reference external" href="http://pkgbuild.com/git/aur-mirror.git/plain/vmware-patch">http://pkgbuild.com/git/aur-mirror.git/plain/vmware-patch</a></div>
<div class="line">3. &lt;Prototype I consult&gt; <a class="reference external" href="https://gist.github.com/xaitax/6001609">https://gist.github.com/xaitax/6001609</a></div>
</div>
</div>
<ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">chmod</span> <span class="pre">755</span> <span class="pre">VMware-Workstation-Full-9.x.x.x86_64.bundle</span></code></li>
<li><code class="docutils literal"><span class="pre">./VMware-Workstation-Full-9.x.x.x86_64.bundle</span></code></li>
<li>Installer will run, and GUI prompts up. Accept all the default value, and click <em>install</em>.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">so far, you can reference <a class="reference external" href="http://www.itzgeek.com/how-tos/linux/centos-how-tos/install-vmware-workstation-9-on-centos-6-rhel-6.html">http://www.itzgeek.com/how-tos/linux/centos-how-tos/install-vmware-workstation-9-on-centos-6-rhel-6.html</a></p>
</div>
<ol class="arabic simple" start="4">
<li><code class="docutils literal"><span class="pre">yum</span> <span class="pre">install</span> <span class="pre">kernel-headers</span> <span class="pre">kernel-devel</span> <span class="pre">gcc</span></code></li>
<li>make symbolic links (i.e. <code class="docutils literal"><span class="pre">build</span></code> <code class="docutils literal"><span class="pre">source</span></code>)</li>
</ol>
<div class="highlight-shell"><div class="highlight"><pre><span class="nb">cd</span> /lib/modules/3.10.0-229.el7.x86_64/
rm -f <span class="nb">source </span>build
ln -s /usr/src/kernels/3.10.0-229.el7.x86_64 build
ln -s build <span class="nb">source</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>[root@localhost 3.10.0-229.el7.x86_64]# ll -ls
total 2600
  0 lrwxrwxrwx.  1 root root     38 Dec 15 03:19 build -&gt; /usr/src/kernels/3.10.0-229.el7.x86_64
  0 lrwxrwxrwx.  1 root root      5 Dec 15 01:44 source -&gt; build
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li>patch the kernel</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These are steps I follow to just make the VMware workstation work. It will surely include <strong>some
redundant</strong> steps but I haven&#8217;t tested them out. I will notify the suspicious skippable steps whenever
needed.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><p>6.0 Install patch <code class="docutils literal"><span class="pre">yum</span> <span class="pre">install</span> <span class="pre">patch</span></code></p>
<p>6.1 Files that you need to use to work with:</p>
<div class="line-block">
<div class="line"><a class="reference download internal" href="../../../_downloads/fix_vmware.sh"><code class="xref download docutils literal"><span class="pre">fix_vmware.sh</span></code></a></div>
<div class="line"><a class="reference download internal" href="../../../_downloads/vmblock-9.0.2-5.0.2-3.10.diff"><code class="xref download docutils literal"><span class="pre">vmblock-9.0.2-5.0.2-3.10.diff</span></code></a></div>
<div class="line"><a class="reference download internal" href="../../../_downloads/vmnet-9.0.2-5.0.2-3.10.patch"><code class="xref download docutils literal"><span class="pre">vmnet-9.0.2-5.0.2-3.10.patch</span></code></a></div>
<div class="line"><a class="reference download internal" href="../../../_downloads/vmnet2.patch"><code class="xref download docutils literal"><span class="pre">vmnet2.patch</span></code></a></div>
</div>
<p>6.2</p>
<div class="line-block">
<div class="line">Place <strong>fix_vmware.sh</strong> under <code class="docutils literal"><span class="pre">/root</span></code>;</div>
<div class="line">Place <strong>vmblock-9.0.2-5.0.2-3.10.diff</strong> under <code class="docutils literal"><span class="pre">/home/iidev20/Downloads/</span></code></div>
<div class="line">Place <strong>vmnet-9.0.2-5.0.2-3.10.patch</strong> under <code class="docutils literal"><span class="pre">/home/iidev20/Downloads/</span></code></div>
<div class="line">Place <strong>vmnet2.patch</strong> under <code class="docutils literal"><span class="pre">/home/iidev20/Downloads/</span></code></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Technically, you don&#8217;t need to place <em>vmblock-9.0.2-5.0.2-3.10.diff</em>, <em>vmnet-9.0.2-5.0.2-3.10.patch</em>,
<em>vmnet2.patch</em> under <code class="docutils literal"><span class="pre">/home/iidev20/Downloads/</span></code> because <em>vmnet2.patch</em> doesn&#8217;t get invoked by
<em>fix_vmware.sh</em>, you need to manually play around with it (more on this later). Path to
<em>vmblock-9.0.2-5.0.2-3.10.diff</em>, <em>vmnet-9.0.2-5.0.2-3.10.patch</em> is hard coded in <em>fix_vmware.sh</em>.
If you don&#8217;t place them under the specified path above, you need to modify <em>fix_vmware.sh</em> on your own.</p>
</div>
<p>6.3 <code class="docutils literal"><span class="pre">cd</span> <span class="pre">/root</span></code> and run <code class="docutils literal"><span class="pre">./fix_vmware.sh</span></code>. Here, you may still see that kernel doesn&#8217;t get compiled correctly. and you
can see the following error message</p>
<div class="highlight-python"><div class="highlight"><pre>/tmp/modconfig-j1rFI9/vmnet-only/filter.c: At top level:
/tmp/modconfig-j1rFI9/vmnet-only/filter.c:206:1: error: conflicting types for ‘VNetFilterHookFn’
VNetFilterHookFn(unsigned int hooknum,                 // IN:
^
</pre></div>
</div>
<p>That is OK. The reason is <strong>vmnet-9.0.2-5.0.2-3.10.patch</strong> doesn&#8217;t patch correctly. We will handle this next step.</p>
<p>6.4 Open <em>vmnet2.patch</em> and follow the content in <em>vmnet2.patch</em> to manually edit <em>filter.c</em> under
<em>/usr/lib/vmware/modules/source/vmnet-only/</em>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<div class="last line-block">
<div class="line">1. You need to <code class="docutils literal"><span class="pre">tar</span> <span class="pre">-xvf</span> <span class="pre">vmnet.tar</span></code> under <code class="docutils literal"><span class="pre">/usr/lib/vmware/modules/source</span></code> before you can see
<code class="docutils literal"><span class="pre">vmnet-only/</span></code> directory.</div>
<div class="line">2. This indicates that probably <em>vmnet-9.0.2-5.0.2-3.10.patch</em> doesn&#8217;t do anything,
which is skippable in the previous step.</div>
<div class="line">3. I reference the following link for this step: <a class="reference external" href="http://rglinuxtech.com/?p=1008">http://rglinuxtech.com/?p=1008</a></div>
</div>
</div>
<p>Detailed steps as following:</p>
<div class="line-block">
<div class="line">6.4.0 <code class="docutils literal"><span class="pre">cd</span> <span class="pre">/usr/lib/vmware/modules/source</span></code></div>
<div class="line">6.4.1 <code class="docutils literal"><span class="pre">tar</span> <span class="pre">-xvf</span> <span class="pre">/usr/lib/vmware/modules/source/vmnet.tar</span></code></div>
<div class="line">6.4.2 <code class="docutils literal"><span class="pre">cd</span> <span class="pre">vmnet-only</span></code></div>
<div class="line">6.4.3 edit <code class="docutils literal"><span class="pre">filter.c</span></code> following <em>vmnet2.patch</em></div>
<div class="line">6.4.4 <code class="docutils literal"><span class="pre">tar</span> <span class="pre">-cf</span> <span class="pre">vmnet.tar</span> <span class="pre">vmnet-only</span></code></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="7">
<li>Recompile <code class="docutils literal"><span class="pre">vmware-modconfig</span> <span class="pre">--console</span> <span class="pre">--install-all</span></code> to see that all work out well.</li>
<li>Register the product: <code class="docutils literal"><span class="pre">/usr/lib/vmware/bin/vmware-vmx-debug</span> <span class="pre">--new-sn</span> <span class="pre">xxxxx-xxxxx-xxxxx-xxxxx-xxxxx</span></code></li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">reference: <a class="reference external" href="http://mergy.org/2013/03/three-tips-to-get-vmware-workstation-9-going-on-kernel-3-8-0/">http://mergy.org/2013/03/three-tips-to-get-vmware-workstation-9-going-on-kernel-3-8-0/</a></p>
</div>
</div>
<div class="section" id="uninstall-vmware-workstation-full-9-0-3">
<h2>uninstall VMware-Workstation-Full-9.0.3<a class="headerlink" href="#uninstall-vmware-workstation-full-9-0-3" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">vmware-installer</span> <span class="pre">-u</span> <span class="pre">vmware-workstation</span></code></li>
</ol>
</div>
<div class="section" id="setup-hdp">
<h2>Setup HDP<a class="headerlink" href="#setup-hdp" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">VNC Viewer will block &#8220;Alt&#8221; button. So, whenever &#8220;Alt&#8221; is needed. Press &#8220;F8&#8221; to bring up
VNC menu, then check &#8220;Alt&#8221; row, which will let VNC Viewer send &#8220;Alt&#8221; when you type. Then
press &#8220;F5&#8221; to enter HDP.</p>
</div>
<ol class="arabic simple">
<li>Right click on &#8220;HDP_Sandbox&#8221; under &#8220;My computer&#8221; and brings up <strong>setting</strong></li>
</ol>
<p>2. Under <strong>setting</strong>, check <strong>&#8220;Bridged: Connected directly to the physical network&#8221;</strong> and <strong>&#8220;Replicate physcial network
connection state&#8221;</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Basically, virtual machines with bridged network connections are just like any other physical
server on the network. Then, you can config your HDP network just like configuring network for
a physical machine.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://www.virtualizationadmin.com/articles-tutorials/vmware-server-workstation-player-articles/understanding-virtual-networking-vmware-workstation-9.html">http://www.virtualizationadmin.com/articles-tutorials/vmware-server-workstation-player-articles/understanding-virtual-networking-vmware-workstation-9.html</a></p>
</div>
<ol class="arabic simple" start="3">
<li>Login to HDP, and we can config the IP address like we did for a physical machine.</li>
<li><code class="docutils literal"><span class="pre">ifconfig</span></code> to see what Network interface available to us. In my case, I can see <code class="docutils literal"><span class="pre">eth1</span></code> and <code class="docutils literal"><span class="pre">Io</span></code> avialable.</li>
<li><code class="docutils literal"><span class="pre">vi</span> <span class="pre">/etc/sysconfig/network-scripts/ifcfg-eth1</span></code> and enter the following text (<strong>sample</strong>)</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>DEVICE=&quot;eth1&quot;
BOOTPROTO=static
ONBOOT=yes
PREFIX=24
IPADDR=9.181.139.59
DNS=9.0.146.50
GATEWAY=9.181.139.1
NETMASK=255.255.255.0
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li>Restart network <code class="docutils literal"><span class="pre">service</span> <span class="pre">network</span> <span class="pre">restart</span></code></li>
<li>Turn off firewall: <code class="docutils literal"><span class="pre">iptables</span> <span class="pre">-X</span></code>. <code class="docutils literal"><span class="pre">iptables</span> <span class="pre">-Z</span></code>, <code class="docutils literal"><span class="pre">iptables</span> <span class="pre">-F</span></code></li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Configure RHEL</a><ul>
<li><a class="reference internal" href="#start-an-openssh-server">Start an OpenSSH Server</a></li>
<li><a class="reference internal" href="#config-repository">Config repository</a></li>
<li><a class="reference internal" href="#resolve-package-update-conflict">Resolve package update conflict</a></li>
<li><a class="reference internal" href="#resolve-package-dependency-during-package-update">Resolve package dependency during package update</a></li>
<li><a class="reference internal" href="#config-ip">Config IP</a></li>
<li><a class="reference internal" href="#using-official-redhat-dvd-as-repository">Using official Redhat DVD as repository</a></li>
<li><a class="reference internal" href="#setup-local-yum-repo-to-install-software">Setup local yum repo to install software</a></li>
<li><a class="reference internal" href="#install-vncserver">Install vncserver</a></li>
<li><a class="reference internal" href="#install-vmware-workstation-full-9-0-3-1410761-x86-64-bundle">Install VMware-Workstation-Full-9.0.3-1410761.x86_64.bundle</a></li>
<li><a class="reference internal" href="#uninstall-vmware-workstation-full-9-0-3">uninstall VMware-Workstation-Full-9.0.3</a></li>
<li><a class="reference internal" href="#setup-hdp">Setup HDP</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="linux.html"
                        title="previous chapter">Linux Related</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="linux_cmd.html"
                        title="next chapter">Useful Linux Cmds</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="linux_cmd.html" title="Useful Linux Cmds"
             >next</a> |</li>
        <li class="right" >
          <a href="linux.html" title="Linux Related"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Zeyuan&#39;s IBM Docs</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../notes.html" >Notes</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="linux.html" >Linux Related</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015-2016, Zeyuan Hu.
      Last updated on Feb 03, 2016.
    </div>
  </body>
</html>