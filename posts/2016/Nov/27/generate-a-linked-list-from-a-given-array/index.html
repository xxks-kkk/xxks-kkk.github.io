<!DOCTYPE html>
<html lang="en">
<head>
        <title>Generate a Linked List from a given array</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="http://zhu45.org/theme/css/main.css" type="text/css" />
        <link rel="stylesheet" href="http://zhu45.org/theme/css/font-awesome.min.css" type="text/css" />
        <link href='http://zhu45.org/theme/images/favicon.ico' rel='icon' type='image/x-icon'/>
        <link href="http://zhu45.org/None" type="application/atom+xml" rel="alternate" title="Tech Stuff ATOM Feed" />


        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://zhu45.org/css/ie.css"/>
                <script src="http://zhu45.org/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://zhu45.org/css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
          <!-- <h1><a href="http://zhu45.org/index.html"><img src="http://zhu45.org/theme/images/logo2.png" alt="Tech Stuff" /><br /><strong>A tmp place to rest</strong></a></h1> -->
          <!-- <h1><a href="http://zhu45.org/index.html">Tech Stuff<br /><strong>A tmp place to rest</strong></a></h1> -->
                <nav><ul>
                    <li ><a href="http://zhu45.org/about-zeyuan.html">About Zeyuan</a></li>
                    <li ><a href="http://zhu45.org/projects.html">Projects</a></li>
                <li><a href="http://zhu45.org/">Blog</a></li>
                </ul></nav>
        </header><!-- /#banner -->

<section id="content" class="body">
<article>
      <header> <h1 class="entry-title"><a href="http://zhu45.org/posts/2016/Nov/27/generate-a-linked-list-from-a-given-array/"
        rel="bookmark" title="Permalink to Generate a Linked List from a given array">Generate a Linked List from a given array</a></h1>  </header>
        <div class="entry-content">
<footer class="post-info">
    <p><i class="fa fa-calendar-o fa-fw"></i> <abbr style="padding: 0 1px" class="published" title="2016-11-27T19:38:00+08:00">Sun 27 Nov 2016, 19:38</abbr></p>

<p><i class="fa fa-folder-open fa-fw"></i> <a href="http://zhu45.org/category/data-struct-and-algo-analysis-in-c.html">Data Struct and Algo Analysis in C</a> </p>
<p><i class="fa fa-tags fa-fw"></i>&nbsp;<a href="http://zhu45.org/tag/c.html">c</a> <a href="http://zhu45.org/tag/singly-linked-list.html">singly-linked-list</a> </p></p></footer><!-- /.post-info --><!-- /.post-info -->
        <div class="section" id="perface">
<h2>Perface</h2>
<p>Well, I'm starting to work through
<a class="reference external" href="https://www.amazon.com/Data-Structures-Algorithm-Analysis-2nd/dp/0201498405">Data Structures and Algorithm Analysis in C (2nd edition)</a>
(referenced as MAW in the following posts) a couple of months agao to serve several purposes:</p>
<ul class="simple">
<li>to get enough familarity with C programming language</li>
<li>to keep my computer science foundation knowledge fresh</li>
<li>I'm interested in System-level programming and mastering C and C++ is a must.</li>
</ul>
<p>I work on DB2 codebase but I don't play around the material I mentioned above a lot.
Things can get rusty pretty quickly. So, I need a way to keep fresh.</p>
<div class="important">
<p class="first admonition-title">Important</p>
<p class="last">All the source code relates to this book can be found on <a class="reference external" href="https://github.com/xxks-kkk/algo">my git repo</a></p>
</div>
</div>
<div class="section" id="solution">
<h2>Solution</h2>
<p>For completeness and readability, here is my basic node declaraiton and definition.</p>
<div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="n">ET</span><span class="p">;</span> <span class="c1">// ET shorts for &quot;ElementType&quot;</span>

<span class="c1">// we always assume there is a dummy node at the very beginning</span>
<span class="c1">// of the list.</span>
<span class="cp">#ifndef _LINKED_LIST_H</span>
<span class="cp">#define _LINKED_LIST_H</span>

<span class="k">struct</span> <span class="n">Node</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">Node</span> <span class="o">*</span><span class="n">PtrToNode</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">PtrToNode</span> <span class="n">List</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">PtrToNode</span> <span class="n">Pos</span><span class="p">;</span>

<span class="cp">#endif</span>

<span class="c1">// placed in the implementation file</span>
<span class="k">struct</span> <span class="n">Node</span>
<span class="p">{</span>
  <span class="n">ET</span> <span class="n">Element</span><span class="p">;</span>
  <span class="n">Pos</span> <span class="n">Next</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
<p>When I try to work through the linked list related questions in Chapter 2, the first thing
I need to do is to able to verify my solution. I need to figure out a way to quickly
generate a test linked list. So, that's what <code>List initializeList(ET A[], int arrayLen);</code> for.</p>
<div class="highlight"><pre><span></span><span class="k">static</span> <span class="n">List</span>
<span class="nf">initializeNoHeaderList</span><span class="p">(</span><span class="n">ET</span> <span class="n">A</span><span class="p">[],</span> <span class="kt">int</span> <span class="n">arrayLen</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">Pos</span> <span class="n">tmpNode</span><span class="p">;;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">arrayLen</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">tmpNode</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">Node</span><span class="p">));</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">tmpNode</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">tmpNode</span><span class="o">-&gt;</span><span class="n">Element</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
  <span class="n">tmpNode</span><span class="o">-&gt;</span><span class="n">Next</span> <span class="o">=</span> <span class="n">initializeNoHeaderList</span><span class="p">(</span><span class="n">A</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">arrayLen</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
  <span class="k">return</span> <span class="n">tmpNode</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">List</span>
<span class="nf">initializeList</span><span class="p">(</span><span class="n">ET</span> <span class="n">A</span><span class="p">[],</span> <span class="kt">int</span> <span class="n">arrayLen</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Pos</span> <span class="n">header</span><span class="p">;</span>

  <span class="n">header</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">Node</span><span class="p">));</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">header</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">header</span><span class="o">-&gt;</span><span class="n">Next</span> <span class="o">=</span> <span class="n">initializeNoHeaderList</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">arrayLen</span><span class="p">);</span>
  <span class="k">return</span> <span class="n">header</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p><tt class="docutils literal">initializeList</tt> adds a dummy node and invokes <tt class="docutils literal">initializeNoHeaderList</tt> to
actually generate linked list from a given array. Inside <tt class="docutils literal">initializeNoHeaderList</tt>,
we use <em>recursion</em> to generate the list from array.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">If we actually change <code>tmpNode-&gt;Next = initializeNoHeaderList(A+1, arrayLen-1);</code>
to <code>tmpNode-&gt;Next = initializeList(A+1, arrayLen-1);</code>, this can lead to
a list contains nodes alternate between actual data node and the dummy node.
(i.e. <code>ET test_arr[] = {23, 44, 45, 57, 89, -1};</code> then the generated linked list
will be <tt class="docutils literal"><span class="pre">23-&gt;0-&gt;44-&gt;0-&gt;45-&gt;0-&gt;57-&gt;0-&gt;89-&gt;0-&gt;-1-&gt;0-&gt;</span></tt>)</p>
</div>
</div>
<div class="section" id="c-related">
<h2>C related</h2>
<ul>
<li><p class="first">During the recursion call in <tt class="docutils literal">initializeNoHeaderList</tt>, we need to
pass in the subarray and the updated length. You can do so like I do
<tt class="docutils literal">A+1</tt> for the subarray (first element will be the second element of
the original array) and <tt class="docutils literal"><span class="pre">arrayLen-1</span></tt> for the updated length.</p>
<p>For some reason, <tt class="docutils literal"><span class="pre">arrayLen--</span></tt> doesn't work here. If you do so, it
will lead to infinite recursion call and segmentation fault eventually.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p>when array being passed to a function call, it actually got decayed into a
pointer pointing to the first element of array. So,
<tt class="docutils literal">initializeNoHeaderList(ET <span class="pre">A[],</span> int arrayLen)</tt> and <tt class="docutils literal">initializeNoHeaderList(ET *A, int arrayLen)</tt>
are the same.</p>
<p class="last">Since when we pass in an array, essentially we pass in the pointer to the first element.
So, similarly, when we pass in the subarray, we can actually pass in the pointer pointing
to the first element of the subarray, which is the second element of the original array.
So, <tt class="docutils literal">&amp;A[1]</tt> (A[1] gives us the element, and we need a pointer, so we use <tt class="docutils literal">&amp;</tt>). Since,
<tt class="docutils literal">array[index]</tt> is the same as <tt class="docutils literal">*(array+index)</tt>, so <tt class="docutils literal">&amp;A[1]</tt> is the same as
<tt class="docutils literal"><span class="pre">&amp;*(A+1)</span></tt>, which is <tt class="docutils literal">A+1</tt></p>
</div>
</li>
<li><p class="first">to use <tt class="docutils literal">exit</tt> function, you need <tt class="docutils literal">#include &lt;stdlib.h&gt;</tt></p>
</li>
<li><p class="first">Don't forget about <tt class="docutils literal">;</tt> during <tt class="docutils literal">struct</tt> definition. Otherwise, you can get
&quot;error: two or more data types in declaration specifiers&quot;</p>
</li>
<li><p class="first">We use <tt class="docutils literal">static</tt> for <tt class="docutils literal">initializeNoHeaderList</tt> to make the function only visible
to the file we implement it (i.e. <tt class="docutils literal">main.c</tt>). This is the way we keep a helper function
private.</p>
</li>
<li><p class="first">For include guards (i.e. <tt class="docutils literal">#ifndef</tt>, <tt class="docutils literal">#define</tt>), read <a class="reference external" href="http://www.cprogramming.com/tutorial/cpreprocessor.html">this nice post</a></p>
</li>
</ul>
</div>

        </div><!-- /.entry-content -->

</article>
</section>

        <aside id="sidebar">
          <!-- <div class="widget" id="book" role="book">
<h2><i class="fa fa-book fa-lg"></i> MySQL 5.1 Plugins Development</h2>
<a href="https://www.packtpub.com/mysql-5-1-plugins-development/book"><img border="0" style="float:left" src="http://zhu45.org/theme/images/0608OS_MockupCover_sm.png" />
MySQL 5.1 Plugins Development by Andrew Hutchings and Sergei Golubchik is now available from Packt Publishing.</a>
<br style="clear:left;" />
</div> -->
          <h2><i class="fa fa-twitter fa-lg"></i> Twitter Feed</h2>
<a class="twitter-timeline" data-width="280" data-height="300" href="https://twitter.com/zeyuanhu">Tweets by zeyuanhu</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>                <div class="widget">
                        <h2><i class="fa fa-home fa-lg"></i> Categories</h2>
                        <ul>
                           <li class="active"><a href="http://zhu45.org/category/data-struct-and-algo-analysis-in-c.html"><i class="fa fa-folder-open fa-lg"></i> Data Struct and Algo Analysis in C</a></li>
                           <li ><a href="http://zhu45.org/category/misc.html"><i class="fa fa-folder-open fa-lg"></i> misc</a></li>
                           <li ><a href="http://zhu45.org/category/tools.html"><i class="fa fa-folder-open fa-lg"></i> tools</a></li>
                        </ul>
                </div>
                <div class="widget social">
                        <h2><i class="fa fa-comments fa-lg"></i> Social</h2>
                        <ul>
                            <!-- <li><a href="http://zhu45.org/None" rel="alternate"><i class="fa fa-rss-square fa-lg"></i> RSS feed</a></li> -->
                            <!--  -->

                            <li><a href="http://github.com/xxks-kkk"><i class="fa fa-github fa-lg"></i> GitHub</a></li>
                            <li><a href="http://stackoverflow.com/users/1460102/jerry"><i class="fa fa-stack-overflow fa-lg"></i> Stack Overflow</a></li>
                            <li><a href="http://zeyuanhu.wordpress.com/"><i class="fa fa-wordpress fa-lg"></i> WordPress</a></li>
                            <li><a href="https://cn.linkedin.com/in/zhu45"><i class="fa fa-linkedin fa-lg"></i> LinkedIn</a></li>
                        </ul>
                </div><!-- /.social -->
            <div class="widget tags">
            <h2><i class="fa fa-tags fa-lg"></i>Tags</h2>
                <ul class="list-group list-inline tagcloud" id="tags">
                    <li class="list-group-item tag-4">
                        <a href="http://zhu45.org/tag/aix.html">
                            AIX
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://zhu45.org/tag/c.html">
                            c
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://zhu45.org/tag/emacs.html">
                            emacs
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://zhu45.org/tag/github.html">
                            github
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://zhu45.org/tag/meta.html">
                            meta
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://zhu45.org/tag/shell.html">
                            shell
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://zhu45.org/tag/singly-linked-list.html">
                            singly-linked-list
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://zhu45.org/tag/software-engineering.html">
                            software engineering
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://zhu45.org/tag/travis-ci.html">
                            travis-ci
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://zhu45.org/tag/tutorial.html">
                            tutorial
                        </a>
                    </li>
                </ul>
            </div>
        </aside><!-- /#sidebar -->

        <!-- <footer id="footer" class="body"> -->
        <!--         <address id="about" class="vcard body"> -->
        <!--         Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>. -->
        <!--         </address><\!-- /#about -\-> -->
        <!--         <p>The LinuxJedi logo and the content of this blog is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_GB">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p> -->
        <!-- </footer><\!-- /#footer -\-> -->

</body>
</html>