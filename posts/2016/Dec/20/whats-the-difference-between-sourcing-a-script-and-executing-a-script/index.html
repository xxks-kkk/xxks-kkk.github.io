<!DOCTYPE html>
<html lang="en">
  <head>
        <title>What's the difference between sourcing a script and executing a script?</title>
        <meta charset="utf-8" />
        <meta content="This is the homepage of Zeyuan (Jerry) Hu" name="description">
        <meta content="Zeyuan Hu, Zeyuan, Jerry Hu, Jerry, zeyuan hu, zeyuan ibm, IBM, Zeyuan IBM, UW Madison, University of Wisconsin Madison, Zeyuan wisc, zeyuan wisc, zeyuan IBM, zeyuan federation" name="keywords">
        <meta content="Zeyuan Hu" name="author">
        <link rel="stylesheet" href="../../../../../theme/css/main.css" type="text/css" />
        <link rel="stylesheet" href="../../../../../theme/css/font-awesome.min.css" type="text/css" />
        <link href='../../../../../theme/images/favicon.ico' rel='icon' type='image/x-icon'/>
        <link href="../../../../../None" type="application/atom+xml" rel="alternate" title="Tech Stuff ATOM Feed" />


        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../../../../../css/ie.css"/>
                <script src="../../../../../js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../../../../../css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
          <!-- <h1><a href="../../../../../index.html"><img src="../../../../../theme/images/logo2.png" alt="Tech Stuff" /><br /><strong>A tmp place to rest</strong></a></h1> -->
          <!-- <h1><a href="../../../../../index.html">Tech Stuff<br /><strong>A tmp place to rest</strong></a></h1> -->
                <nav><ul>
                    <li ><a href="../../../../../about-zack.html">About Zack</a></li>
                    <li ><a href="../../../../../projects.html">Projects</a></li>
                    <li ><a href="../../../../../quotes.html">Quotes</a></li>
                <li><a href="../../../../..">Blog</a></li>
                <li><a href="../../../../../archives/index.html">Archives</a></li>
                </ul></nav>
        </header><!-- /#banner -->

<section id="content" class="body">
<article>
      <header> <h1 class="entry-title"><a href="../../../../../posts/2016/Dec/20/whats-the-difference-between-sourcing-a-script-and-executing-a-script/"
        rel="bookmark" title="Permalink to What's the difference between sourcing a script and executing a script?">What's the difference between sourcing a script and executing a script?</a></h1>  </header>
        <div class="entry-content">
<footer class="post-info">
    <p><i class="fa fa-calendar-o fa-fw"></i> <abbr style="padding: 0 1px" class="published" title="2016-12-20T21:49:00+08:00">Tue 20 Dec 2016, 21:49</abbr></p>

<p><i class="fa fa-folder-open fa-fw"></i> <a href="../../../../../category/tools.html">tools</a> </p>
<p><i class="fa fa-tags fa-fw"></i>&nbsp;<a href="../../../../../tag/shell.html">shell</a> </p></p></footer><!-- /.post-info --><!-- /.post-info -->
        <p>I run across the question in the title when I take a break from the work
today. Then I did a little bit googling, and the explanation is not quite satisfying
to me. So, I decide to answer this question by a simplied example from my work.</p>
<p>For me, this question appears frequently when you try to install some software.
Some software, like the product I'm working on, depends on a set of environment variables
in order to setup itself properly. Usually, this may inovlve manual editing of the environment
variables in order to make the product work. However, we can do much better.
We can somehow let a setup program to edit the environment variable for the user and finish
the whole product setup process automatically.</p>
<p>Suppose a software relies on an environment variable <tt class="docutils literal">TEST_SOURCE</tt> and
we don't have such an environment variable initially.</p>
<div class="highlight"><pre><span></span>$ <span class="nb">echo</span> <span class="nv">$TEST_SOURCE</span>
$
</pre></div>
<p>If we create a test script <tt class="docutils literal">test.sh</tt> like the following:</p>
<div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>

<span class="nb">export</span> <span class="nv">TEST_SOURCE</span><span class="o">=</span>HELLO
</pre></div>
<p>Then we can have two way to execute this script: either by <tt class="docutils literal">./test.sh</tt> or
by <tt class="docutils literal">source test.sh</tt> and they two have different outcome:</p>
<div class="highlight"><pre><span></span>$ ./test.sh
$ <span class="nb">echo</span> <span class="nv">$TEST_SOURCE</span>
$
$ <span class="nb">source</span> test.sh
$ <span class="nb">echo</span> <span class="nv">$TEST_SOURCE</span>
HELLO
</pre></div>
<p>So, the conclusion is that when we execute in <tt class="docutils literal">source</tt>, we actually run program
in the current shell. However, if we execute in <tt class="docutils literal">./</tt>, then we run the program
in a separately shell and the execution (i.e. modify environment variable) doesn't
impact our current shell.</p>
<!-- http://www.theeggeadventure.com/wikimedia/index.php/Interview_Questions -->

        </div><!-- /.entry-content -->
        <div class="comments">
        <h2>Comments !</h2>
            <div id="disqus_thread"></div>
            <script type="text/javascript">
               var disqus_identifier = "posts/2016/Dec/20/whats-the-difference-between-sourcing-a-script-and-executing-a-script/";
               (function() {
               var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
               dsq.src = 'https://zhu45-org.disqus.com/embed.js';
               (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
              })();
            </script>
        </div>

</article>
</section>

        <aside id="sidebar">
          <!-- <div class="widget" id="book" role="book">
<h2><i class="fa fa-book fa-lg"></i> MySQL 5.1 Plugins Development</h2>
<a href="https://www.packtpub.com/mysql-5-1-plugins-development/book"><img border="0" style="float:left" src="../../../../../theme/images/0608OS_MockupCover_sm.png" />
MySQL 5.1 Plugins Development by Andrew Hutchings and Sergei Golubchik is now available from Packt Publishing.</a>
<br style="clear:left;" />
</div> -->
<!--          <h2><i class="fa fa-twitter fa-lg"></i> Twitter Feed</h2>
<a class="twitter-timeline" data-width="280" data-height="300" href="https://twitter.com/zeyuanhu">Tweets by zeyuanhu</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>-->
                <div class="widget">
                        <h2><i class="fa fa-home fa-lg"></i> Categories</h2>
                        <ul>
                           <li ><a href="../../../../../category/data-struct-and-algo-analysis-in-c.html"><i class="fa fa-folder-open fa-lg"></i> Data Struct and Algo Analysis in C (11)</a></li>
                           <li ><a href="../../../../../category/misc.html"><i class="fa fa-folder-open fa-lg"></i> misc (3)</a></li>
                           <li ><a href="../../../../../category/programming-languages.html"><i class="fa fa-folder-open fa-lg"></i> programming languages (5)</a></li>
                           <li class="active"><a href="../../../../../category/tools.html"><i class="fa fa-folder-open fa-lg"></i> tools (5)</a></li>
                        </ul>
                </div>
                <div class="widget social">
                        <h2><i class="fa fa-comments fa-lg"></i> Social</h2>
                        <ul>
                            <!-- <li><a href="../../../../../None" rel="alternate"><i class="fa fa-rss-square fa-lg"></i> RSS feed</a></li> -->
                            <!--  -->

                            <li><a href="http://github.com/xxks-kkk"><i class="fa fa-github fa-lg"></i> GitHub</a></li>
                            <li><a href="http://stackoverflow.com/users/1460102/jerry"><i class="fa fa-stack-overflow fa-lg"></i> Stack Overflow</a></li>
                            <li><a href="http://zeyuanhu.wordpress.com/"><i class="fa fa-wordpress fa-lg"></i> WordPress</a></li>
                            <li><a href="https://cn.linkedin.com/in/zhu45"><i class="fa fa-linkedin fa-lg"></i> LinkedIn</a></li>
                        </ul>
                </div><!-- /.social -->
            <div class="widget tags">
            <h2><i class="fa fa-tags fa-lg"></i>Tags</h2>
                <ul class="list-group list-inline tagcloud" id="tags">
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/aix.html">
                            AIX
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../../tag/c.html">
                            c
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/call-stack.html">
                            call-stack
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/circular-double-linked-list.html">
                            circular-double-linked-list
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/double-linked-list.html">
                            double-linked-list
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/dynamic-programming.html">
                            dynamic-programming
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/emacs.html">
                            emacs
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/github.html">
                            github
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/jinja.html">
                            Jinja
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../../tag/math.html">
                            math
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../../tag/meta.html">
                            meta
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/pelican.html">
                            pelican
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/pointer.html">
                            pointer
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/proof.html">
                            proof
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="../../../../../tag/recursion.html">
                            recursion
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/sed.html">
                            sed
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="../../../../../tag/shell.html">
                            shell
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../../tag/singly-linked-list.html">
                            singly-linked-list
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="../../../../../tag/software-engineering.html">
                            software-engineering
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/travis-ci.html">
                            travis-ci
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../../tag/trees.html">
                            trees
                        </a>
                    </li>
                </ul>
            </div>
        </aside><!-- /#sidebar -->

        <!-- <footer id="footer" class="body"> -->
        <!--         <address id="about" class="vcard body"> -->
        <!--         Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>. -->
        <!--         </address><\!-- /#about -\-> -->
        <!--         <p>The LinuxJedi logo and the content of this blog is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_GB">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p> -->
        <!-- </footer><\!-- /#footer -\-> -->

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-37565522-2");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>