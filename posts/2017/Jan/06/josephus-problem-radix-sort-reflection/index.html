<!DOCTYPE html>
<html lang="en">
  <head>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-8696888278948966",
          enable_page_level_ads: true
          });
        </script>
        <title>Josephus Problem & Radix Sort Reflection</title>
        <meta charset="utf-8" />
        <meta content="This is the homepage of Zeyuan (Jerry) Hu" name="description">
        <meta content="Zeyuan Hu, Zeyuan, Jerry Hu, Jerry, zeyuan hu, zeyuan ibm, IBM, Zeyuan IBM, UW Madison, University of Wisconsin Madison, Zeyuan wisc, zeyuan wisc, zeyuan IBM, zeyuan federation" name="keywords">
        <meta content="Zeyuan Hu" name="author">
        <link rel="stylesheet" href="../../../../../theme/css/main.css" type="text/css" />
        <link rel="stylesheet" href="../../../../../theme/css/font-awesome.min.css" type="text/css" />
        <link href='../../../../../theme/images/favicon.ico' rel='icon' type='image/x-icon'/>
        <link href="../../../../../None" type="application/atom+xml" rel="alternate" title="Tech Stuff ATOM Feed" />


        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../../../../../css/ie.css"/>
                <script src="../../../../../js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../../../../../css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
          <!-- <h1><a href="../../../../../index.html"><img src="../../../../../theme/images/logo2.png" alt="Tech Stuff" /><br /><strong>A tmp place to rest</strong></a></h1> -->
          <!-- <h1><a href="../../../../../index.html">Tech Stuff<br /><strong>A tmp place to rest</strong></a></h1> -->
                <nav><ul>
                    <li ><a href="../../../../../about-zack.html">About Zack</a></li>
                    <li ><a href="../../../../../projects.html">Projects</a></li>
                    <li ><a href="../../../../../quotes.html">Quotes</a></li>
                <li><a href="../../../../..">Blog</a></li>
                <li><a href="../../../../../archives/index.html">Archives</a></li>
                </ul></nav>
        </header><!-- /#banner -->

<section id="content" class="body">
<article>
      <header> <h1 class="entry-title"><a href="../../../../../posts/2017/Jan/06/josephus-problem-radix-sort-reflection/"
        rel="bookmark" title="Permalink to Josephus Problem & Radix Sort Reflection">Josephus Problem &amp; Radix Sort Reflection</a></h1>  </header>
        <div class="entry-content">
<footer class="post-info">
    <p><i class="fa fa-calendar-o fa-fw"></i> <abbr style="padding: 0 1px" class="published" title="2017-01-06T00:34:00+08:00">Fri 06 Jan 2017, 00:34</abbr></p>

<p><i class="fa fa-folder-open fa-fw"></i> <a href="../../../../../category/programming-languages.html">programming languages</a> </p>
<p><i class="fa fa-tags fa-fw"></i>&nbsp;<a href="../../../../../tag/c.html">c</a> <a href="../../../../../tag/circular-double-linked-list.html">circular-double-linked-list</a> <a href="../../../../../tag/double-linked-list.html">double-linked-list</a> </p></p></footer><!-- /.post-info --><!-- /.post-info -->
        <p>This post is a reflection on the two problems (MAW 3.13 &amp; 3.10) I
have been working on for the past five days.</p>
<div class="section" id="dynamic-arrays-in-c">
<h2>Dynamic arrays in C</h2>
<p>One of the ways I try out to solve <a class="reference external" href="../../../../../posts/2016/Dec/31/josephus-problem/">Josephus Problem</a> is to use circular double linked list, which
is implemented in <a class="reference external" href="https://github.com/xxks-kkk/algo/blob/master/linkedList/josephus/circularLinkedList.c">ET circularDoubleLinkedListJosephus(ET N, ET M)</a>,
Inside the function, here is what I try to do initially:</p>
<div class="highlight"><pre><span></span><span class="n">ET</span> <span class="n">people</span><span class="p">[</span><span class="n">N</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">people</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>I try to make an array of consecutive numbers based upon the input <tt class="docutils literal">N</tt>. However, this way doesn't work in C because compiler has no clue
the size of array during compilation phase. This is what people called dynamic array in C. The following two pages offer execellent explanations
to dynamic array specific and array in C in general:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.mathcs.emory.edu/~cheung/Courses/255/Syllabus/2-C-adv-data/dyn-array.html">Dynamic arrays in C</a></li>
<li><a class="reference external" href="https://www.cs.swarthmore.edu/~newhall/unixhelp/C_arrays.html">Arrays in C</a></li>
</ul>
<p>Here is what I've done eventually:</p>
<div class="highlight"><pre><span></span><span class="n">people</span> <span class="o">=</span> <span class="n">calloc</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>

<span class="k">for</span> <span class="p">(</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
  <span class="o">*</span><span class="p">(</span><span class="n">people</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>There is one thing to note about <tt class="docutils literal">calloc</tt>. It essentially the same as <tt class="docutils literal">malloc</tt> in terms of allocating a chunk of
array. However, unlike <tt class="docutils literal">malloc</tt>, <tt class="docutils literal">calloc</tt> will zero-initlize the chunk, which is quite useful when we work with
array of integers. In other words, <tt class="docutils literal">people = <span class="pre">malloc(N*sizeof(int));</span></tt> is perfectly fine in this case but <tt class="docutils literal">calloc</tt>
gives an advantage to have more control on array content, especially useful when we debug.</p>
</div>
<div class="section" id="circularly-linked-lists">
<h2>Circularly Linked Lists</h2>
<p>In MAW, author is kind of in-rush when talks about this section. When comes to implementation, how we deal with header node
need to carefully think through. This is what stated in the book:</p>
<blockquote>
A popular convention is to have the last cell keep a pointer back to the first. This can be done with or without
a header (if the header is present, the last cell points to it) and can also be done with doubly linked lists (the
first cell's previous pointer points to the last cell).</blockquote>
<p>Here is my circularly double linked list in picture:</p>
<img alt="" src="/images/circularly-double-linked-list-dummy.PNG" />
<p>In words, our dummy node's <tt class="docutils literal">Next</tt> points to the the first data node and <tt class="docutils literal">Prev</tt> points to the last data node.
With this setup, the head of the list can be accessed by <tt class="docutils literal">dummy.Next</tt> and tail by <tt class="docutils literal">dummy.Prev</tt>. In addition,
there will never be <tt class="docutils literal">NULL</tt> pointers in the data structure.</p>
<!-- http://www.cs.uwm.edu/~cs351/linked-list-variations.pdf -->
</div>
<div class="section" id="initialize-an-array-of-structs">
<h2>Initialize an array of structs</h2>
<p>When implement the radix sort solution, I need to construct an array of buckets,
with each bucket is a single linked list with a dummy node. Here is what I do:</p>
<div class="highlight"><pre><span></span><span class="k">static</span> <span class="n">List</span>
<span class="nf">makeEmptyArrayOfNodes</span><span class="p">(</span><span class="n">numBuckets</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Pos</span> <span class="n">Buckets</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="n">numBuckets</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">Node</span><span class="p">));</span>

  <span class="kt">int</span> <span class="n">k</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">numBuckets</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">Buckets</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">Next</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="n">Buckets</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>Here are two points worth noting:</p>
<ul>
<li><p class="first"><tt class="docutils literal">Pos</tt> is <tt class="docutils literal">struct Node*</tt> (can be checked by <tt class="docutils literal">ptype</tt> in GDB) when we allocate
an array of <tt class="docutils literal">struct Node</tt>.</p>
</li>
<li><p class="first">There is difference between <tt class="docutils literal"><span class="pre">-&gt;</span></tt> and <tt class="docutils literal">.</tt>. In K&amp;R Page 131, it says that:</p>
<blockquote>
<p>If <tt class="docutils literal">p</tt> is a <strong>POINTER</strong> to a structure, then <tt class="docutils literal"><span class="pre">p-&gt;member-of-structure</span></tt>
refers to the particular member.</p>
</blockquote>
<p>and <tt class="docutils literal">.</tt> is used to directly access a structure member.
In my case, since <tt class="docutils literal">Buckets[k]</tt> with type <tt class="docutils literal">struct Node</tt>, then I need to use <tt class="docutils literal">.</tt>.
However, if I want to use <tt class="docutils literal"><span class="pre">-&gt;</span></tt>, I need to use <tt class="docutils literal"><span class="pre">(&amp;Buckets[k])-&gt;Next</span></tt>.</p>
</li>
</ul>
<!-- http://stackoverflow.com/questions/4173518/c-initialize-array-of-structs -->
</div>
<div class="section" id="for-loop-instead-of-while">
<h2>For loop instead of while</h2>
<p>I try to experiment different trick when I work on my algo. Here is what I try: use <tt class="docutils literal">for</tt> loop instead
of <tt class="docutils literal">while</tt>:</p>
<div class="highlight"><pre><span></span><span class="n">deleteNode</span><span class="p">(</span><span class="n">ET</span> <span class="n">elem</span><span class="p">,</span> <span class="n">List</span> <span class="n">L</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Pos</span> <span class="n">dummyL</span> <span class="o">=</span> <span class="n">L</span><span class="o">-&gt;</span><span class="n">Next</span><span class="p">;</span>
  <span class="n">Pos</span> <span class="n">dummyPrev</span> <span class="o">=</span> <span class="n">L</span><span class="p">;</span>

  <span class="k">for</span><span class="p">(;</span> <span class="n">dummyL</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">;</span> <span class="n">dummyPrev</span> <span class="o">=</span> <span class="n">dummyL</span><span class="p">,</span> <span class="n">dummyL</span> <span class="o">=</span> <span class="n">dummyL</span><span class="o">-&gt;</span><span class="n">Next</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">dummyL</span><span class="o">-&gt;</span><span class="n">Element</span> <span class="o">==</span> <span class="n">elem</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">Pos</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">dummyL</span><span class="p">;</span>
      <span class="n">dummyPrev</span><span class="o">-&gt;</span><span class="n">Next</span> <span class="o">=</span> <span class="n">dummyL</span><span class="o">-&gt;</span><span class="n">Next</span><span class="p">;</span>
      <span class="n">free</span><span class="p">(</span><span class="n">tmp</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<!-- https://www.cs.bu.edu/teaching/ -->
</div>

        </div><!-- /.entry-content -->
        <div class="comments">
        <h2>Comments !</h2>
            <div id="disqus_thread"></div>
            <script type="text/javascript">
               var disqus_identifier = "posts/2017/Jan/06/josephus-problem-radix-sort-reflection/";
               (function() {
               var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
               dsq.src = 'https://zhu45-org.disqus.com/embed.js';
               (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
              })();
            </script>
        </div>

</article>
</section>

        <aside id="sidebar">
          <!-- <div class="widget" id="book" role="book">
<h2><i class="fa fa-book fa-lg"></i> MySQL 5.1 Plugins Development</h2>
<a href="https://www.packtpub.com/mysql-5-1-plugins-development/book"><img border="0" style="float:left" src="../../../../../theme/images/0608OS_MockupCover_sm.png" />
MySQL 5.1 Plugins Development by Andrew Hutchings and Sergei Golubchik is now available from Packt Publishing.</a>
<br style="clear:left;" />
</div> -->
<!--          <h2><i class="fa fa-twitter fa-lg"></i> Twitter Feed</h2>
<a class="twitter-timeline" data-width="280" data-height="300" href="https://twitter.com/zeyuanhu">Tweets by zeyuanhu</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>-->
                <div class="widget">
                        <h2><i class="fa fa-home fa-lg"></i> Categories</h2>
                        <ul>
                           <li ><a href="../../../../../category/data-struct-and-algo-analysis-in-c.html"><i class="fa fa-folder-open fa-lg"></i> Data Struct and Algo Analysis in C (8)</a></li>
                           <li ><a href="../../../../../category/misc.html"><i class="fa fa-folder-open fa-lg"></i> misc (2)</a></li>
                           <li class="active"><a href="../../../../../category/programming-languages.html"><i class="fa fa-folder-open fa-lg"></i> programming languages (2)</a></li>
                           <li ><a href="../../../../../category/tools.html"><i class="fa fa-folder-open fa-lg"></i> tools (5)</a></li>
                        </ul>
                </div>
                <div class="widget social">
                        <h2><i class="fa fa-comments fa-lg"></i> Social</h2>
                        <ul>
                            <!-- <li><a href="../../../../../None" rel="alternate"><i class="fa fa-rss-square fa-lg"></i> RSS feed</a></li> -->
                            <!--  -->

                            <li><a href="http://github.com/xxks-kkk"><i class="fa fa-github fa-lg"></i> GitHub</a></li>
                            <li><a href="http://stackoverflow.com/users/1460102/jerry"><i class="fa fa-stack-overflow fa-lg"></i> Stack Overflow</a></li>
                            <li><a href="http://zeyuanhu.wordpress.com/"><i class="fa fa-wordpress fa-lg"></i> WordPress</a></li>
                            <li><a href="https://cn.linkedin.com/in/zhu45"><i class="fa fa-linkedin fa-lg"></i> LinkedIn</a></li>
                        </ul>
                </div><!-- /.social -->
            <div class="widget tags">
            <h2><i class="fa fa-tags fa-lg"></i>Tags</h2>
                <ul class="list-group list-inline tagcloud" id="tags">
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/aix.html">
                            AIX
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../../tag/c.html">
                            c
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/circular-double-linked-list.html">
                            circular-double-linked-list
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/double-linked-list.html">
                            double-linked-list
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/dynamic-programming.html">
                            dynamic-programming
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/emacs.html">
                            emacs
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/github.html">
                            github
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/jinja.html">
                            Jinja
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/meta.html">
                            meta
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/pelican.html">
                            pelican
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="../../../../../tag/recursion.html">
                            recursion
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/sed.html">
                            sed
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="../../../../../tag/shell.html">
                            shell
                        </a>
                    </li>
                    <li class="list-group-item tag-0">
                        <a href="../../../../../tag/singly-linked-list.html">
                            singly-linked-list
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="../../../../../tag/software-engineering.html">
                            software-engineering
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../../tag/travis-ci.html">
                            travis-ci
                        </a>
                    </li>
                </ul>
            </div>
        </aside><!-- /#sidebar -->

        <!-- <footer id="footer" class="body"> -->
        <!--         <address id="about" class="vcard body"> -->
        <!--         Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>. -->
        <!--         </address><\!-- /#about -\-> -->
        <!--         <p>The LinuxJedi logo and the content of this blog is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_GB">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p> -->
        <!-- </footer><\!-- /#footer -\-> -->

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-37565522-2");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>