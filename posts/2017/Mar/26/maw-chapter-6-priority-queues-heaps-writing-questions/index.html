<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>MAW Chapter 6: Priority Queues (Heaps) writing questions - Zeyuan Hu's website</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="../../../../../posts/2017/Mar/26/maw-chapter-6-priority-queues-heaps-writing-questions/">

        <meta name="author" content="Zeyuan Hu" />
        <meta name="keywords" content="heaps,proof,math,maw" />
        <meta name="description" content="Solutions including: MAW 6.6, 6.7, 6.9, 6.13, 6.14 MAW 6.6 How many nodes are in the large heap in Figure 6.13? This question is interesting in the sense that the algorithm of counting reflecting the underneath implemenation structure. Since the binary heap is ..." />

        <meta property="og:site_name" content="Zeyuan Hu's website" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="MAW Chapter 6: Priority Queues (Heaps) writing questions"/>
        <meta property="og:url" content="../../../../../posts/2017/Mar/26/maw-chapter-6-priority-queues-heaps-writing-questions/"/>
        <meta property="og:description" content="Solutions including: MAW 6.6, 6.7, 6.9, 6.13, 6.14 MAW 6.6 How many nodes are in the large heap in Figure 6.13? This question is interesting in the sense that the algorithm of counting reflecting the underneath implemenation structure. Since the binary heap is ..."/>
        <meta property="article:published_time" content="2017-03-26" />
            <meta property="article:section" content="Data Struct & Algo" />
            <meta property="article:tag" content="heaps" />
            <meta property="article:tag" content="proof" />
            <meta property="article:tag" content="math" />
            <meta property="article:tag" content="maw" />
            <meta property="article:author" content="Zeyuan Hu" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="../../../../../theme/css/bootstrap.lumen.min.css" type="text/css"/>
    <link href="../../../../../theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="../../../../../theme/css/pygments/emacs.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../../theme/css/style.css" type="text/css"/>

        <link href="../../../../../feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Zeyuan Hu's website ATOM Feed"/>

        <link href="../../../../../feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Zeyuan Hu's website RSS Feed"/>



</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <a href="../../../../../" class="navbar-brand">
Zeyuan Hu's website            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="../../../../../about-zack.html"><i class="fa fa-question"></i><span class="icon-label">About</span></a></li>
              <li><a href="../../../../../archives/index.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="../../../../../posts/2017/Mar/26/maw-chapter-6-priority-queues-heaps-writing-questions/"
                       rel="bookmark"
                       title="Permalink to MAW Chapter 6: Priority Queues (Heaps) writing questions">
                        MAW Chapter 6: Priority Queues (Heaps) writing questions
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2017-03-26T12:01:00+08:00"> Sun 26 Mar 2017, 12:01</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="../../../../../tag/heaps.html">heaps</a>
        /
	<a href="../../../../../tag/proof.html">proof</a>
        /
	<a href="../../../../../tag/math.html">math</a>
        /
	<a href="../../../../../tag/maw.html">maw</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <h2>Solutions</h2>
<p>including: MAW 6.6, 6.7, 6.9, 6.13, 6.14</p>
<h3>MAW 6.6</h3>
<blockquote>
<p>How many nodes are in the large heap in Figure 6.13?</p>
</blockquote>
<p>This question is interesting in the sense that the algorithm of counting reflecting
the underneath implemenation structure. Since the binary heap is actually implemented 
in terms of array, we start with <span class="math">\(i = 1\)</span> and position at the root. We follow the path
toward the last node, doubling <span class="math">\(i\)</span> when taking a left child, and doubling <span class="math">\(i\)</span> and adding
one when taking a right child. Then, we have the following calculation:
<span class="math">\(2(2(2(2(2(2(2i+1)+1)))))+1 = 225\)</span>. The picture below shows the path from the root 
to the node in the last position:</p>
<p><img src="/images/maw-6-6.PNG" alt="MAW 6.6"/></p>
<h3>MAW 6.7</h3>
<blockquote>
<p>b. show that a heap of eight elements can be constructed in eight comparisons between 
   heap elements.</p>
</blockquote>
<p>Thie question is interesting because it offers another method we can use when build a binary
heap with even number of elements. That is, we build binomial queue first. since the binary 
form of <span class="math">\(8\)</span> is <span class="math">\(1000_2\)</span>, this means we will have only one binomial tree <span class="math">\(B_3\)</span> inside the binomial queue.
Once we construct this binomial tree, we need one last step to tweek the binomial tree to
follow binary heap property, namely each node has to have either zero or two children.</p>
<p>For this question, it takes seven comparisons to construct the binomial queue (with a solo binomial tree)
and we get the following:</p>
<p><img src="/images/maw-6-7-b.PNG" alt="MAW 6.7.b"/></p>
<p>Then we need to restore the binary heap property because "a" node has three children.
This can be done by the eighth compariosn between "b" and "c". If "c" is less than "b",
then "b" is made a child of "c". Otherwise, both "c" and "d" are made children of "b".</p>
<h3>MAW 6.9</h3>
<blockquote>
<p>a. Give an algorithm to find all nodes less than some value, X, in a binary heap.
   Your algorithm should run in <span class="math">\(O(K)\)</span>, where <span class="math">\(K\)</span> is the number of nodes output.</p>
</blockquote>
<p>The big idea is that we perform a preorder traversal of the heap. In detail, we start
from the root of the heap. If value of the root is smaller than <span class="math">\(X\)</span>, then we output
this value and call procedure recursively once for its left child and once for its right 
child. If the value of a node is bigger or equal than <span class="math">\(X\)</span>, then the procedure halts
without printing the value. We don't need to check the children by heap definition.</p>
<p>The complexity of this algorithm is <span class="math">\(O(N)\)</span> in worst case, where <span class="math">\(N\)</span> is the total number
of nodes in the heap. This happens when every node in the heap is smaller than <span class="math">\(X\)</span>, and 
the procedure has to call each node of the heap.</p>
<blockquote>
<p>b. Does your algorithm extend to any of the other heap structures dicussed in 
   this chapter?</p>
</blockquote>
<p>Yes. It works for leftist heap, skew heap, and d-heaps.</p>
<h3>MAW 6.13</h3>
<blockquote>
<p>If a d-heap is stored as an array, for an entry located in position <span class="math">\(i\)</span>,
where are the parents and children?</p>
</blockquote>
<p>Let's begin with children. Assume that position <span class="math">\(i\)</span> corresponds to the <span class="math">\(X\)</span>th node
of level <span class="math">\(l\)</span>. Therefore</p>
<div class="math">$$
i = \sum_{j=0}^{l-1}d^j+X
$$</div>
<p><span class="math">\(\sum_{j=0}^{l-1}d^j is a geometric series whose first term equals $1\)</span>, whose
common ratio is <span class="math">\(d\)</span>, and that contains <span class="math">\(l\)</span> terms in total. Thus, the result is
<span class="math">\(\frac{d^l-1}{d-1}\)</span> and thus, we have </p>
<div class="math">$$
i = \frac{d^l-1}{d-1} + X
$$</div>
<p>We now calculate the position of <span class="math">\(i\)</span>'s second last child in terms of <span class="math">\(d\)</span>, <span class="math">\(l\)</span>, and
<span class="math">\(X\)</span>. This equals <span class="math">\(i\)</span>, plus the number of nodes after <span class="math">\(i\)</span> on level <span class="math">\(l\)</span>, plus <span class="math">\(d\)</span>
times the number of nodes before <span class="math">\(i\)</span> on level <span class="math">\(l\)</span>, plus <span class="math">\(d-1\)</span>.</p>
<div class="math">$$
\begin{eqnarray*}
&amp;=&amp; \frac{d^l-1}{d-1} + X + d^l - X + (X-1)d + d - 1 \\
&amp;=&amp; \frac{d^l-1}{d-1} + d^l-1 + dX \\
&amp;=&amp; \frac{d(d^l-1)}{d-1} + dX \\
&amp;=&amp; d(\frac{d^l-1}{d-1} + X) \\
&amp;=&amp; di
\end{eqnarray*}
$$</div>
<p>Therefore the second last child of <span class="math">\(i\)</span> is in position <span class="math">\(id\)</span>. It follows that the children
of <span class="math">\(i\)</span> are in positions <span class="math">\(id-(d-2), \dots, id+1\)</span>.</p>
<p>A node is a child of <span class="math">\(i\)</span> if and only if it is in one of the positions <span class="math">\(id-(d-2), \dots, id+1\)</span>.
So what you want here is a function that will map each of these to <span class="math">\(i\)</span>, but will not
map any other value to <span class="math">\(i\)</span>. Let <span class="math">\(j\)</span> be any of these values. Clearly,</p>
<div class="math">$$
\lfloor{\frac{j + (d-2)}{d}}\rfloor = i
$$</div>
<p>But if <span class="math">\(j\)</span> is greater than <span class="math">\(id+1\)</span> or less than <span class="math">\(id - (d-2)\)</span> then</p>
<div class="math">$$
\lfloor{\frac{j + (d-2)}{d}}\rfloor \ne i
$$</div>
<p>Thus we have our function which can now be used to work out the position of the
parent of <span class="math">\(i\)</span>.</p>
<div class="math">$$
\lfloor{\frac{i + (d-2)}{d}}\rfloor
$$</div>
<h2>MAW 6.14</h2>
<blockquote>
<p>Suppose we need to perform <span class="math">\(M\)</span> <code>PercolateUp</code> and <span class="math">\(N\)</span> <code>DeleteMiin</code> on a d-heap
that initially has <span class="math">\(N\)</span> elements.
a. What is the total running time of all operations in terms of <span class="math">\(M\)</span>, <span class="math">\(N\)</span>, and <span class="math">\(d\)</span>?</p>
</blockquote>
<p>A <code>percolateUp</code> operation on a d-heap with <span class="math">\(N\)</span> elements takes <span class="math">\(O(\log_d N)\)</span> steps.
The key is that each time we bubble the hole up, we only do comparison once: 
compare the insertion value with the parent of the hole (Figure 6.6, 6.7 helps understanding).</p>
<p>A <code>deleteMin</code> operation on a d-heap with <span class="math">\(N\)</span> elements takes <span class="math">\(O(d \log_d N)\)</span> steps.
Here, we need to feel the empty hole with the minimum value of its children. This can
take <span class="math">\(d\)</span> comparison to find the minimum (see p.184). </p>
<p>Thus in total this will take <span class="math">\(O(M\log_d N + Nd\log_d N)\)</span> steps.</p>
<blockquote>
<p>d. If <span class="math">\(d = 2\)</span>, what is the running time of all heap operations?</p>
</blockquote>
<p>Substitute 2 into the formula calculated in part a) gives <span class="math">\(O((M+N)\log_2 N)\)</span>.</p>
<blockquote>
<p>c. If <span class="math">\(d = \theta (N)\)</span>, what is the total running time?</p>
</blockquote>
<p>If <span class="math">\(d = \theta (N)\)</span> then <span class="math">\(d = cN\)</span>, where <span class="math">\(c\)</span> is a constant value independent of <span class="math">\(N\)</span>.
Substituting <span class="math">\(cN\)</span> into the formula calculated in part a) gives:</p>
<div class="math">$$ 
M\log_{cN} N + NcN \log_{cN}N = O(M + N^2)
$$</div>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'zhu45-org'; // required: replace example with your forum shortname

                    var disqus_identifier = 'maw-chapter-6-priority-queues-heaps-writing-questions';
                var disqus_url = '../../../../../posts/2017/Mar/26/maw-chapter-6-priority-queues-heaps-writing-questions/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015-2017 Zeyuan Hu
           <!-- &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>-->         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="../../../../../theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../../../../../theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="../../../../../theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'zhu45-org'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-37565522-2']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

</body>
</html>