.. _linux-cmd.rst:

#####################
Useful Linux Cmds
#####################

Last Update: |today|

==============
Linux Commands
==============

- cat line X (i.e. ``46``) to line Y (i.e. ``396``) on a file (i.e. ``db2odbct_statement.h``)

.. code-block:: shell

        awk 'NR<=396 && NR >=46' db2odbct_statement.h > $HOME/hive_server_opts.txt

`ref1 <https://unix.stackexchange.com/questions/47407/cat-line-x-to-line-y-on-a-huge-file>`_

- terminate telnet session

::

        "ctrl" "]"
        "enter"
        telnet> quit (enter)

`ref2 <https://stackoverflow.com/questions/11681683/cant-close-a-scpitelnet-session-with-echo-when-i-use-it-in-a-script>`_
        
- sort the files in a directory by modification date

.. code-block:: shell

        ls -lrt

- find certain files from /root

.. code-block:: shell

        find / -name version.h

- cd back into the directory where I come from

.. code-block:: shell

        cd -

- tar a directory

.. code-block:: shell

        tar -cf vmblock.tar vmblock-only

- untar a directory

.. code-block:: shell

        tar -xvf vmblock.tar

- recursively remove all the files under certain directory (force)

.. code-block:: shell

        rm -rf [dirname]

- list all network interface

.. code-block:: shell

        ifconfig -a

- Enter text mode in RHEL

::

      "ctrl" + "Alt" + "F5"

- Exit text mode in RHEL (aka back to GUI mode in RHEL)

::

      "ctrl" + "Alt" + "F1"

- Bring up VNC menu

::

      "F8"

- Check memory info

::

      cat /proc/meminfo

- Create a symboli link

::

      ln -s [path] [symbol]

- view pdf on RHEL

::

      evince [pdf file]

- compile tex to pdf

::

      pdflatex [tex file]

- quickly find the function get called in terminal

For example, I want to find out where ``NZ_Attributes`` in "sqlqg_netezza_attributes.C" get called under
"/vbs/engn/sqqg_odbc" directory. I can ``cd /vbs/engn/sqqg_odbc`` and do

::

        $ grep "NZ_Attributes" ./*
        Binary file ./libdb2STrcodbcU.a matches
        ./libdb2STrcodbcU.esym:_ZN13NZ_AttributesC1EP14UnfencedServerPi
        ./libdb2STrcodbcU.esym:_ZN13NZ_AttributesC2EP14UnfencedServerPi
        ./libdb2STrcodbcU.esym:_ZN13NZ_AttributesD0Ev
        ./libdb2STrcodbcU.esym:_ZN13NZ_AttributesD1Ev
        ./libdb2STrcodbcU.esym:_ZN13NZ_AttributesD2Ev
        ./sqlqg_netezza_attributes.C:*  Descriptive Name = Implementation of NZ_Attributes class
        ./sqlqg_netezza_attributes.C:#include "sqlqg_netezza_attributes.h"         // NZ_Attributes class definition
        ./sqlqg_netezza_attributes.C:// NZ_Attributes class.
        ./sqlqg_netezza_attributes.C:*  Function Name: NZ_Attributes::NZ_Attributes()
        ./sqlqg_netezza_attributes.C:*  Function: Constructor for NZ_Attributes class
        ./sqlqg_netezza_attributes.C:NZ_Attributes::NZ_Attributes(UnfencedServer *a_server, sqlint32 *a_rc)
        ./sqlqg_netezza_attributes.C:      SQLT_NZ_Attributes__NZ_Attributes;
        ./sqlqg_netezza_attributes.C:*  Function Name  = NZ_Attributes::~NZ_Attributes()
        ./sqlqg_netezza_attributes.C:*  Function: Destructor for NZ_Attributes class
        ./sqlqg_netezza_attributes.C:NZ_Attributes::~NZ_Attributes(void)
        ./sqlqg_netezza_attributes.C:          SQLT_NZ_Attributes__DNZ_Attributes;
        ./sqlqg_unfenced_odbc_server.C:        m_attributes = new(&rc) NZ_Attributes(this, &rc);

- find the size of files and directory under the current path

::

        $ du -sh ./*                      
        8.0K    ./010616.txt
        12K     ./autorun
        86M     ./autosetup
        35M     ./bin
        4.0K    ./build
        ...

- find the total size of current path

::

        $ du -slh
        1.5G    .

- Convert decimal to hex

::

        $ printf "%x\n" 4095      
        fff

- Convert hex to decimal

::

        $ printf "%d\n" 0xfff
        4095

- untar tar.gz file in AIX

::

        gzip -dc ../iidev3/LL.tar.gz | tar xf -

- re-execute the last command

::

        !!        

- check the current key bindings (ie. 'C-z' means suspend job) in linux

::

        stty -a

.. note::

        ``stty sane`` alows you to reset linux key bindings to default

- view the last few lines of a growing file, updated continuously. Typically used on log files.

::

        tail -f <fname>

=========
Resource
=========

- `Xah Linux: Shell Commands Basics <http://xahlee.info/linux/linux_common_commands.html>`_
