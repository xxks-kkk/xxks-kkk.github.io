<html xmlns:tomboy="http://beatniksoftware.com/tomboy" xmlns:size="http://beatniksoftware.com/tomboy/size" xmlns:link="http://beatniksoftware.com/tomboy/link"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>db2fedsvrcfg &amp; hive</title><style type="text/css">
	body {  }
	h1 { font-size: xx-large;
     	     font-weight: bold;
     	     border-bottom: 1px solid black; }
	div.note {
		   position: relative;
		   display: block;
		   padding: 5pt;
		   margin: 5pt; 
		   white-space: -moz-pre-wrap; /* Mozilla */
 	      	   white-space: -pre-wrap;     /* Opera 4 - 6 */
 	      	   white-space: -o-pre-wrap;   /* Opera 7 */
 	      	   white-space: pre-wrap;      /* CSS3 */
 	      	   word-wrap: break-word;      /* IE 5.5+ */ }
	</style></head><body><div class="note" id="db2fedsvrcfg &amp; hive"><a name="db2fedsvrcfg%20&amp;%20hive"></a><h1>db2fedsvrcfg &amp; hive</h1>
<b><span style="background:yellow"><span style="font-size:xx-large">Hive data source info</span></span></b>

 ## hive 1 data source (8G Mem, VM, JiuQiang)
 alias hive1='ssh <a style="color:#3465A4" href="root@9.181.139.74">root@9.181.139.74</a>'
 ## hive 2 data source (8G Mem, HDP, YaQiong)
 alias hive2='ssh <a style="color:#3465A4" href="root@9.181.139.171">root@9.181.139.171</a>'
 ## hive 3 data source (8G Mem, HDP, me)
 alias hive3='ssh <a style="color:#3465A4" href="root@9.181.139.59">root@9.181.139.59</a>'
 ## hive 4 data source (28G Mem, HDP, me)
 alias hive4='ssh <a style="color:#3465A4" href="root@9.123.110.232">root@9.123.110.232</a>'


<b><span style="background:yellow"><span style="font-size:xx-large">Prepare odbc driver</span></span></b><span style="font-size:xx-large"></span><span style="font-size:xx-large">
</span>
<a style="color:#3465A4" href="/opt/oemclient/odbc71/64/lib">/opt/oemclient/odbc71/64/lib</a>

**run ``autohive`` to config environment variables
**change odbc.ini [hive] driver= section

<b><span style="background:yellow"><span style="font-size:xx-large">odbc.ini &amp; environment info &amp; db2dj.ini</span></span></b>

<i>12/22/15</i>

$ export | grep -i odbc
DB2LIBPATH=/opt/oemclient/odbc71/64/lib:/home/iidev20/sqllib/lib:/opt/csdlclient/oracle/lib:/opt/oemclient/odbc60/64/lib:/opt/csdlclient/informix/64/lib
DB2ODBCT_DEBUG=1
DJX_ODBC_LIBRARY_PATH=/opt/oemclient/odbc71/64/lib:/opt/oemclient/odbc60/64/lib
LD_LIBRARY_PATH=/opt/oemclient/odbc71/64/lib:/home/iidev20/sqllib/lib:/opt/csdlclient/oracle/lib:/opt/oemclient/odbc60/64/lib:/opt/csdlclient/informix/64/lib
LIBPATH=/opt/oemclient/odbc71/64/lib:/home/iidev20/sqllib/lib:/opt/csdlclient/oracle/lib:/opt/oemclient/odbc60/64/lib:/opt/csdlclient/informix/64/lib
NZ_ODBC_INI_PATH=/home/iidev20/bin
ODBC_CLIENT=/opt/oemclient/odbc60/64
ODBCINI=/home/iidev20/bin/odbc.ini
SHLIB_PATH=/home/iidev20/sqllib/lib:/opt/csdlclient/oracle/lib:/opt/oemclient/odbc60/64/lib:/opt/csdlclient/informix/64/lib


  1 [ODBC]
  2 IANAAppCodePage=4
  3 InstallDir=/opt/oemclient/odbc71/64/
  4 Trace=1
  5 TraceDll=/opt/oemclient/odbc60/64/lib/odbctrac.so
  6 TraceFile=/home/iidev20/odbctrace.out
  7 UseCursorLib=0

475 [hive]
476 Driver=/opt/oemclient/odbc71/64/lib/VMhive00.so
477 Description=DataDirect 7.1 Apache Hive WP Driver
478 ArraySize=16384
479 AuthenticationMethod=0
480 Database=default
481 EnableDescribeParam=0
482 GSSClient=native
483 HostName=9.181.139.59
484 KeepAlive=0
485 LoginTimeout=30
486 LogonID=root
487 MaxVarcharSize=2147483647
488 PortNumber=10000
489 ProxyUser=
490 RemoveColumnQualifiers=0
491 ServicePrincipalName=
492 StringDescribeType=12
493 TransactionMode=0
494 UseNativeCatalogFunctions=0
495 UseCurrentSchema=0
496 WireProtocolVersion=0
497 Trace=1
498 TraceDll=/opt/oemclient/odbc60/64/lib/odbctrac.so
499 TraceFile=/home/iidev20/odbctrace.out
500 QEWSD=2457337

db2dj.ini

  1 DB2_II_MASK_437_RC7=Y
  2 DB2_II_MASK_437_RC8=Y
  3 FED_USE_RR_UNION=Y
  4 INFORMIXSERVER=inffake
  5 TNS_ADMIN=/home/iidev20/bin
  6 INFORMIXSQLHOSTS=/home/iidev20/bin/sqlhosts
  7 ODBCINI=/home/iidev20/bin/odbc.ini
  8 XACONFIGFILE=/home/iidev20/bin/xa_config
  9 NZ_ODBC_INI_PATH=/home/iidev20/bin
 10 CAC_CONFIG=/home/iidev20/cac.ini
 11 INFORMIXDIR=/opt/csdlclient/informix/64
 12 ORACLE_HOME=/opt/csdlclient/oracle
 13 SYBASE_OCS=OCS-15_0
 14 SYBASE_LIB3P=lib3p64
 15 ODBC_CLIENT=/opt/oemclient/odbc60/64
 16 wripperlib=/opt/oemclient/odbc60/64/lib/odbc.so
 17 ODBCINI=/home/iidev20/bin/odbc.ini
 18 ODBCBIT=64
 19 ODBCVERSION=2
 20 DJX_ODBC_LIBRARY_PATH=/opt/oemclient/odbc71/64/lib:/opt/oemclient/branded_odbc/lib:/opt/oemclient/isv95/branded_odbc/lib/    :/opt/oemclient/odbc60/64/lib
 21 LIBPATH=/opt/oemclient/odbc71/64/lib:/opt/oemclient/branded_odbc/lib:/opt/oemclient/isv95/branded_odbc/lib/:/opt/oemclien    t/odbc60/64/lib:/home/iidev20/sqllib/lib:/opt/csdlclient/oracle/lib:/opt/csdlclient/informix/64/lib
 22 DB2LIBPATH=/opt/oemclient/odbc71/64/lib:/opt/oemclient/branded_odbc/lib:/opt/oemclient/isv95/branded_odbc/lib/:/opt/oemcl    ient/odbc60/64/lib:/home/iidev20/sqllib/lib:/opt/csdlclient/oracle/lib:/opt/csdlclient/informix/64/lib
 23 LD_LIBRARY_PATH=/opt/oemclient/odbc71/64/lib:/opt/oemclient/branded_odbc/lib:/opt/oemclient/isv95/branded_odbc/lib/:/opt/    oemclient/odbc60/64/lib:/home/iidev20/sqllib/lib:/opt/csdlclient/oracle/lib:/opt/csdlclient/informix/64/lib
 24 SHLIB_PATH=/home/iidev20/sqllib/lib:/opt/csdlclient/oracle/lib:/opt/oemclient/odbc60/64/lib:/opt/csdlclient/informix/64/l    ib

<i>01/13/16</i>

Now, these setup is handled by "runfed", which you can see on 80 bin/

<b><span style="background:yellow"><span style="font-size:xx-large">Resolve ODBC driver invalid license issue</span></span></b>

cd <a style="color:#3465A4" href="/opt/oemclient/odbc71/64/">/opt/oemclient/odbc71/64/</a>
find . | xargs touch                                    &lt;----- this update all ODBC related files creation date, which allows us to re-entry the free trial period of ODBC license


<b><span style="background:yellow"><span style="font-size:xx-large">Cmd</span></span></b>

db2fedsvrcfg -s SERVER1 -m <a style="color:#3465A4" href="/opt/oemclient/branded_odbc/lib/libodbc.so">/opt/oemclient/branded_odbc/lib/libodbc.so</a> -dsn hive -u root -p hadoop -noprep

or

invoke  runfed   &lt;-- this provides a timer

db2fedsvrcfg -s SERVER1 -m <a style="color:#3465A4" href="/opt/oemclient/branded_odbc/lib/libodbc.so">/opt/oemclient/branded_odbc/lib/libodbc.so</a> -dsn hive -u root -p hadoop -impala -noprep


<b><span style="background:yellow"><span style="font-size:xx-large">Setup hive data for tuning</span></span></b>

<i>put data files into hadoop</i>
[root@sandbox ~]# hadoop fs -mkdir ./dir1

[root@sandbox ~]# hadoop fs -ls .
Found 3 items
drwx------   - root hdfs          0 2015-11-13 00:00 .Trash
drwxr-xr-x   - root hdfs          0 2015-11-12 16:46 .hiveJars
drwxr-xr-x   - root hdfs          0 2015-12-03 06:02 dir1

[root@sandbox ~]# hadoop fs -put IITEST1.csv ./dir1/iitest1.csv

[root@sandbox ~]# hadoop fs -ls ./dir1/iitest1.csv
-rw-r--r--   1 root hdfs        499 2015-12-03 06:06 dir1/iitest1.csv

[root@sandbox ~]# hadoop fs -put IITEST2.csv ./dir1/iitest2.csv

<i>create table in hive and load data</i>

hive&gt; <b><i>CREATE TABLE IITEST1 ( IT1C1 int, IT1C2 int, IT1C3 CHAR(1), IT1C4 CHAR(3), IT1C5 CHAR(10), IT1C6 VARCHAR(10), IT1C7 CHAR(100) ) row format delimited fields terminated by ',' stored as textfile;</i></b>
OK
Time taken: 55.995 seconds

hive&gt; <b><i>LOAD DATA INPATH './dir1/iitest1.csv' OVERWRITE INTO TABLE IITEST1;</i></b>
Loading data to table default.iitest1
Table default.iitest1 stats: [numFiles=1, numRows=0, totalSize=499, rawDataSize=0]
OK
Time taken: 27.178 seconds

hive&gt; <i>select * from iitest1;</i>
OK
10	84000	A	A  	Jonathan  	Liu	DGGBNEKBRXLBGKTPAGNPEBOQPIPDUAJLTLMRATQPKFPULKKXKGFFWHGOXFFJFLIFKITHKUQSPNFLQKFUIWHXLSTHPBKLMNUSQWOB
56	46000	F	F  	12345     	12345	GIIWEVNSPPRLRDKWIXAUFHVNNJISHUWQADQMLWDBRWKWFSXDDXBGDVFRAWEOBTXXRTMMMAOIQUSQBEUGMQKNHFEBFUQECDAOWJMN
45	77000	K	K  	Lucy      	King	HJMTHFFEQBSSCHWSGKNHIQFNKMQFNQHQKNTGSRLVFFJXOAFTDARTMVOCWFIAMICLAVCJBWVKQWAPLBEXMLDGGSVVDJXBDTFLQORQ
NULL	77000	K	K  	Lucy      	King	HJMTHFFEQBSSCHWSGKNHIQFNKMQFNQHQKNTGSRLVFFJXOAFTDARTMVOCWFIAMICLAVCJBWVKQWAPLBEXMLDGGSVVDJXBDTFLQORQ
Time taken: 16.005 seconds, Fetched: 4 row(s)

--------------------------------------------------------------------------------

hive&gt; <b><i>CREATE TABLE IITEST2 ( IT2C1 int, IT2C2 int, IT2C3 CHAR(30) ) row format delimited fields terminated by ',' stored as textfile;</i></b>
OK
Time taken: 31.969 seconds

hive&gt; <b><i>LOAD DATA INPATH './dir1/iitest2.csv' OVERWRITE INTO TABLE IITEST2;</i></b>
Loading data to table default.iitest2
Table default.iitest2 stats: [numFiles=1, numRows=0, totalSize=98, rawDataSize=0]
OK
Time taken: 35.169 seconds

hive&gt; <i>select * from iitest2;</i>
OK
2	10	Photography Basics            
6	56	Operating Systems             
8	45	Analysis of Algorithms        
9	45	Music Composition             
Time taken: 9.154 seconds, Fetched: 4 row(s)

<b>create table IITEST3 (IT3C1 char(10));</b>


<b><span style="background:yellow"><span style="font-size:xx-large">Output</span></span></b>

<i>12/22/15:</i>

 runfed                                                                                                                                                              
-- This CLP file was created using "db2fedsvrcfg" Version "10.6.0.3".
-- Timestamp: 2015/12/22 10:25:31
-- Server Name: SERVER1
-- ODBC Driver Manager: <a style="color:#3465A4" href="/opt/oemclient/branded_odbc/lib/libodbc.so">/opt/oemclient/branded_odbc/lib/libodbc.so</a>
-- DSN Name: hive
-- Remote Database Name:
-- Remote User Name: root
-- Remote Table Names: IITEST[#]
-- Remote Data Source Codepage:
-- Preparation: NO
-- Verbose: NO


-- Generating ALTER SERVER statement...

-- --------------------------------------------------
--  ALTER SERVER statements for server "SERVER1"
-- --------------------------------------------------
ALTER SERVER "SERVER1" OPTIONS (ADD PUSHDOWN 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_VARCHAR_BLANKPADDED_COMPARISON 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_CHAR_BLANKPADDED_COMPARISON 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_COLFUNC_EXPR 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_FUNCTION_IN_COUNT 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_COUNT_NON_DISTINCT 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_OUTER_JOINS 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_IN_SELECT 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_OB_ITEM_EXPR 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_OB_ITEM_NOT_IN_SELECT 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_GB_ITEM_COL_ONLY 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_GB_MORE_THAN_NON_AGGR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_GB_ITEM_AT_LEAST_ONE_COLUMN 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_GB_MULTI_DISTINCT 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_GB_ITEM_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_GB_ITEM_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SELECT_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SEL_INTO_CASTING_BND 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SELECT_COL_ONLY 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR_W_CORR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR_W_SOP 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR_W_GB 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR_W_OJ 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR_W_FETCH_N_ROWS 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_RECURSION 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_COMMON_TAB_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR_W_ORDER_BY 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SQ_W_CORR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SQ_W_SOP 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SQ_W_GB 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SQ_W_OJ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SQ_W_ORDER_BY 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SQ_W_FETCH_N_ROWS 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SCALAR_SQ_W_GB_CLAUSE 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SCALAR_SQ_W_HAVING_CLAUSE 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_UNION_DISTINCT 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_EXCEPT_ALL 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_EXCEPT_DISTINCT 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INTERSECT_ALL 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INTERSECT_DISTINCT 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_CONCAT_NULL_NULL 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_COLFUNC_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_COUNT_OTHER 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SIMPLE_WHEN_CLAUSE_ONLY 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_HAVING_PRED 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_BASIC_PRED 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_BASIC_PRED_LHS_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_IN_BASIC_PRED 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_BASIC_PRED_NO_COL 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_MATCH_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_MATCH_COL 'N');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_PATTERN_COL 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_PATTERN_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_ESCAPE_EXPR 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_ESCAPE_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_PRED_EXPR 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_PRED_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_PRED_INVARIANT 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_IN_NULL_PRED 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INLIST_LHS_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INLIST_RHS_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INLIST_LHS_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INLIST_RHS_SCALAR_SQ 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_PRD_ARITHEXPR_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_OJ_PRED_SQ 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_FETCH_N_ROWS 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INLIST_OJ_PRED 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_OR_OJ_PRED 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_MATCH_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_PATTERN_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_ALLOW_LIKE_PATTERN_PUSHDOWN 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_EQUALITY 'N');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_VARCHAR_NO_TRAILING_BLANKS 'N');

The db2fedsvrcfg command completed successfully.

db2fedsvrcfg execution time: 00:51:01


<i><span style="background:yellow">12/28/15:</span></i>   <b>(THIS SHOULD BE GOOD TO SET AS DEFAULT FOR Hive)</b>


ALTER SERVER "SERVER1" OPTIONS (ADD PUSHDOWN 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_VARCHAR_BLANKPADDED_COMPARISON 'N');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_CHAR_BLANKPADDED_COMPARISON 'N');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_COLFUNC_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_FUNCTION_IN_COUNT 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_COUNT_NON_DISTINCT 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_OUTER_JOINS 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_IN_SELECT 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_OB_ITEM_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_OB_ITEM_NOT_IN_SELECT 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_GB_ITEM_COL_ONLY 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_GB_MORE_THAN_NON_AGGR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_GB_ITEM_AT_LEAST_ONE_COLUMN 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_GB_MULTI_DISTINCT 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_GB_ITEM_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_GB_ITEM_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SELECT_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SEL_INTO_CASTING_BND 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SELECT_COL_ONLY 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR_W_CORR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR_W_SOP 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR_W_GB 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR_W_OJ 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR_W_FETCH_N_ROWS 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_RECURSION 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_COMMON_TAB_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NESTED_TAB_EXPR_W_ORDER_BY 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SQ_W_CORR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SQ_W_SOP 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SQ_W_GB 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SQ_W_OJ 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SQ_W_ORDER_BY 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SQ_W_FETCH_N_ROWS 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SCALAR_SQ_W_GB_CLAUSE 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SCALAR_SQ_W_HAVING_CLAUSE 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_UNION_DISTINCT 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_EXCEPT_ALL 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_EXCEPT_DISTINCT 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INTERSECT_ALL 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INTERSECT_DISTINCT 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_CONCAT_NULL_NULL 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_COLFUNC_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_COUNT_OTHER 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_SIMPLE_WHEN_CLAUSE_ONLY 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_HAVING_PRED 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_BASIC_PRED 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_BASIC_PRED_LHS_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_IN_BASIC_PRED 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_BASIC_PRED_NO_COL 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_MATCH_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_MATCH_COL 'N');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_PATTERN_COL 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_PATTERN_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_ESCAPE_EXPR 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_ESCAPE_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_PRED_EXPR 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_PRED_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_PRED_INVARIANT 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_IN_NULL_PRED 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INLIST_LHS_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INLIST_RHS_EXPR 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INLIST_LHS_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INLIST_RHS_SCALAR_SQ 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_PRD_ARITHEXPR_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_OJ_PRED_SQ 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_FETCH_N_ROWS 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_INLIST_OJ_PRED 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_OR_OJ_PRED 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_MATCH_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_LIKE_PATTERN_SCALAR_SQ 'N');
-- Warning: The option was set to the default value "N".
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_ALLOW_LIKE_PATTERN_PUSHDOWN 'Y');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_NULL_EQUALITY 'N');
ALTER SERVER "SERVER1" OPTIONS (ADD DB2_VARCHAR_NO_TRAILING_BLANKS 'N');


<b><span style="background:yellow"><span style="font-size:xx-large">Hive Test Queries</span></span></b>


See spreadsheet "db2fedsvrcfg_enhancement_(2015-11-09_Rev1_modified_by_hx).xls" for details



<b><span style="background:yellow"><span style="font-size:xx-large">Debug log</span></span></b>

<b>12/03/15:</b>

export COPTS="-g -qfullpath"
export DB2ODBCT_DEBUG=true

gdb -args db2fedsvrcfg -s SERVER1 -m <a style="color:#3465A4" href="/opt/oemclient/branded_odbc/lib/libodbc.so">/opt/oemclient/branded_odbc/lib/libodbc.so</a> -dsn hive -u root -p hadoop -noprep

(gdb) break db2odbct_statement.C: 536
(gdb) commands
Type commands for breakpoint(s) 3, one per line.
End with a line saying just "end".
&gt;silent
&gt;printf "m_option_id: %d\n", m_option_id
&gt;cont
&gt;end


<b>01/05/16: </b> 

Problem: default server option is not effective -&gt; ODBC customization wrapper not working

<b>hive_prepare.clp</b>  -- prepare script for testing out connection between FS and Hive
<b>hive_test.clp</b> -- test script for testing pushdown


<b>01/08/16:</b>

Problem: ODBC customization wrapper not working -&gt; SQL0901N "Can not get server attribute"

<a style="color:#3465A4" href="/vbs/engn/include/sqlqg_odbc.h@@/main/temp_iifvt66_db2_main_12nov15-0/1">/vbs/engn/include/sqlqg_odbc.h@@/main/temp_iifvt66_db2_main_12nov15-0/1</a>
<a style="color:#3465A4" href="/vbs/engn/include/sqlqg_odbc_utilities.h@@/main/temp_iifvt66_db2_main_12nov15-0/1">/vbs/engn/include/sqlqg_odbc_utilities.h@@/main/temp_iifvt66_db2_main_12nov15-0/1</a>
<a style="color:#3465A4" href="/vbs/engn/sqqg_odbc/sqlqg_odbc_connection.C@@/main/temp_iifvt66_db2_main_12nov15-0/1">/vbs/engn/sqqg_odbc/sqlqg_odbc_connection.C@@/main/temp_iifvt66_db2_main_12nov15-0/1</a>
<a style="color:#3465A4" href="/vbs/engn/sqqg_odbc/sqlqg_odbc_utilities.C@@/main/temp_iifvt66_db2_main_12nov15-0/1">/vbs/engn/sqqg_odbc/sqlqg_odbc_utilities.C@@/main/temp_iifvt66_db2_main_12nov15-0/1</a>
<a style="color:#3465A4" href="/vbs/engn/sqqg_odbc/sqlqg_unfenced_odbc_server.C@@/main/temp_iifvt66_db2_main_12nov15-0/1">/vbs/engn/sqqg_odbc/sqlqg_unfenced_odbc_server.C@@/main/temp_iifvt66_db2_main_12nov15-0/1</a>
<a style="color:#3465A4" href="/vbs/engn/headers/sqltqg_odbc.in@@/main/temp_iifvt66_db2_main_12nov15-0/1">/vbs/engn/headers/sqltqg_odbc.in@@/main/temp_iifvt66_db2_main_12nov15-0/1</a>
<a style="color:#3465A4" href="/vbs/engn/sqqg_odbc/inc/sqlqg_impala_attributes.h@@/main/temp_iifvt66_db2_main_12nov15-0/3">/vbs/engn/sqqg_odbc/inc/sqlqg_impala_attributes.h@@/main/temp_iifvt66_db2_main_12nov15-0/3</a>
<a style="color:#3465A4" href="/vbs/engn/sqqg_odbc/sqlqg_impala_attributes.C@@/main/temp_iifvt66_db2_main_12nov15-0/2">/vbs/engn/sqqg_odbc/sqlqg_impala_attributes.C@@/main/temp_iifvt66_db2_main_12nov15-0/2</a>


</div></body></html>
